{"html_url": "http://quantmind.github.io/lux/docs/modules/lux/extensions/sessions/backend", "html": {"main": "<section id=\"page-header\" class=\"page-header-outer modules_lux_extensions_sessions_backend-header\">\n    <div class=\"layer\">\n        <div class=\"page-header\">\n            <div class=\"container fullpage\">\n                <div class=\"row fullpage\">\n                    <div class=\"col-sm-12 text-center\">\n                        <breadcrumbs></breadcrumbs>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</section>\n\n<div id=\"page-main\">\n    <div class=\"container\">\n        <div class=\"row\">\n            <div class=\"modules_lux_extensions_sessions_backend-main col-md-12\">\n                <div class=\"center-block\" style=\"max-width: 900px\" data-highlight data-hash-scroll>\n                    <h1>Source code for lux.extensions.sessions.backend</h1><div class=\"highlight\"><pre>\n<span class=\"kn\">import</span> <span class=\"nn\">time</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">importlib</span> <span class=\"kn\">import</span> <span class=\"n\">import_module</span>\n<span class=\"kn\">from</span> <span class=\"nn\">datetime</span> <span class=\"kn\">import</span> <span class=\"n\">datetime</span><span class=\"p\">,</span> <span class=\"n\">timedelta</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">pulsar</span> <span class=\"kn\">import</span> <span class=\"n\">PermissionDenied</span><span class=\"p\">,</span> <span class=\"n\">Http404</span>\n<span class=\"kn\">from</span> <span class=\"nn\">pulsar.utils.pep</span> <span class=\"kn\">import</span> <span class=\"n\">to_bytes</span><span class=\"p\">,</span> <span class=\"n\">to_string</span>\n<span class=\"kn\">from</span> <span class=\"nn\">pulsar.utils.importer</span> <span class=\"kn\">import</span> <span class=\"n\">module_attribute</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">lux</span>\n<span class=\"kn\">from</span> <span class=\"nn\">lux.utils.crypt</span> <span class=\"kn\">import</span> <span class=\"n\">get_random_string</span><span class=\"p\">,</span> <span class=\"n\">digest</span>\n\n\n<span class=\"n\">__all__</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s\">&#39;AuthBackend&#39;</span><span class=\"p\">,</span> <span class=\"s\">&#39;AuthenticationError&#39;</span><span class=\"p\">,</span>\n           <span class=\"s\">&#39;LoginError&#39;</span><span class=\"p\">,</span> <span class=\"s\">&#39;LogoutError&#39;</span><span class=\"p\">,</span> <span class=\"s\">&#39;MessageMixin&#39;</span><span class=\"p\">,</span> <span class=\"s\">&#39;UserMixin&#39;</span><span class=\"p\">,</span>\n           <span class=\"s\">&#39;Anonymous&#39;</span><span class=\"p\">,</span> <span class=\"s\">&#39;REASON_NO_REFERER&#39;</span><span class=\"p\">,</span> <span class=\"s\">&#39;REASON_BAD_REFERER&#39;</span><span class=\"p\">,</span>\n           <span class=\"s\">&#39;REASON_BAD_TOKEN&#39;</span><span class=\"p\">]</span>\n\n\n<span class=\"n\">UNUSABLE_PASSWORD</span> <span class=\"o\">=</span> <span class=\"s\">&#39;!&#39;</span>\n<span class=\"n\">REASON_NO_REFERER</span> <span class=\"o\">=</span> <span class=\"s\">&quot;Referer checking failed - no Referer&quot;</span>\n<span class=\"n\">REASON_BAD_REFERER</span> <span class=\"o\">=</span> <span class=\"s\">&quot;Referer checking failed - </span><span class=\"si\">%s</span><span class=\"s\"> does not match </span><span class=\"si\">%s</span><span class=\"s\">&quot;</span>\n<span class=\"n\">REASON_BAD_TOKEN</span> <span class=\"o\">=</span> <span class=\"s\">&quot;CSRF token missing or incorrect&quot;</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">AuthenticationError</span><span class=\"p\">(</span><span class=\"ne\">ValueError</span><span class=\"p\">):</span>\n    <span class=\"k\">pass</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">LoginError</span><span class=\"p\">(</span><span class=\"ne\">RuntimeError</span><span class=\"p\">):</span>\n    <span class=\"k\">pass</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">LogoutError</span><span class=\"p\">(</span><span class=\"ne\">RuntimeError</span><span class=\"p\">):</span>\n    <span class=\"k\">pass</span>\n\n\n<div class=\"viewcode-block\" id=\"MessageMixin\"><a class=\"viewcode-back\" href=\"../../../../api/sessions#lux.extensions.sessions.backend.MessageMixin\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">MessageMixin</span><span class=\"p\">(</span><span class=\"nb\">object</span><span class=\"p\">):</span>\n    <span class=\"sd\">&#39;&#39;&#39;Mixin for a messages</span>\n<span class=\"sd\">    &#39;&#39;&#39;</span>\n<div class=\"viewcode-block\" id=\"MessageMixin.success\"><a class=\"viewcode-back\" href=\"../../../../api/sessions#lux.extensions.sessions.backend.MessageMixin.success\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">success</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">message</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Store a ``success`` message to show to the web user</span>\n<span class=\"sd\">        &#39;&#39;&#39;</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">message</span><span class=\"p\">(</span><span class=\"s\">&#39;success&#39;</span><span class=\"p\">,</span> <span class=\"n\">message</span><span class=\"p\">)</span>\n</div>\n<div class=\"viewcode-block\" id=\"MessageMixin.info\"><a class=\"viewcode-back\" href=\"../../../../api/sessions#lux.extensions.sessions.backend.MessageMixin.info\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">info</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">message</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Store an ``info`` message to show to the web user</span>\n<span class=\"sd\">        &#39;&#39;&#39;</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">message</span><span class=\"p\">(</span><span class=\"s\">&#39;info&#39;</span><span class=\"p\">,</span> <span class=\"n\">message</span><span class=\"p\">)</span>\n</div>\n<div class=\"viewcode-block\" id=\"MessageMixin.warning\"><a class=\"viewcode-back\" href=\"../../../../api/sessions#lux.extensions.sessions.backend.MessageMixin.warning\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">warning</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">message</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Store a ``warning`` message to show to the web user</span>\n<span class=\"sd\">        &#39;&#39;&#39;</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">message</span><span class=\"p\">(</span><span class=\"s\">&#39;warning&#39;</span><span class=\"p\">,</span> <span class=\"n\">message</span><span class=\"p\">)</span>\n</div>\n<div class=\"viewcode-block\" id=\"MessageMixin.error\"><a class=\"viewcode-back\" href=\"../../../../api/sessions#lux.extensions.sessions.backend.MessageMixin.error\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">error</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">message</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Store an ``error`` message to show to the web user</span>\n<span class=\"sd\">        &#39;&#39;&#39;</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">message</span><span class=\"p\">(</span><span class=\"s\">&#39;danger&#39;</span><span class=\"p\">,</span> <span class=\"n\">message</span><span class=\"p\">)</span>\n</div>\n<div class=\"viewcode-block\" id=\"MessageMixin.message\"><a class=\"viewcode-back\" href=\"../../../../api/sessions#lux.extensions.sessions.backend.MessageMixin.message\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">message</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">level</span><span class=\"p\">,</span> <span class=\"n\">message</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Store a ``message`` of ``level`` to show to the web user.</span>\n\n<span class=\"sd\">        Must be implemented by session classes.</span>\n<span class=\"sd\">        &#39;&#39;&#39;</span>\n        <span class=\"k\">raise</span> <span class=\"ne\">NotImplementedError</span>\n</div>\n<div class=\"viewcode-block\" id=\"MessageMixin.remove_message\"><a class=\"viewcode-back\" href=\"../../../../api/sessions#lux.extensions.sessions.backend.MessageMixin.remove_message\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">remove_message</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Remove a message from the list of messages&#39;&#39;&#39;</span>\n        <span class=\"k\">raise</span> <span class=\"ne\">NotImplementedError</span>\n\n</div></div>\n<div class=\"viewcode-block\" id=\"UserMixin\"><a class=\"viewcode-back\" href=\"../../../../api/sessions#lux.extensions.sessions.backend.UserMixin\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">UserMixin</span><span class=\"p\">(</span><span class=\"nb\">object</span><span class=\"p\">):</span>\n    <span class=\"sd\">&#39;&#39;&#39;Mixin for a User model</span>\n<span class=\"sd\">    &#39;&#39;&#39;</span>\n    <span class=\"n\">email</span> <span class=\"o\">=</span> <span class=\"bp\">None</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">is_superuser</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">False</span>\n\n<div class=\"viewcode-block\" id=\"UserMixin.is_authenticated\"><a class=\"viewcode-back\" href=\"../../../../api/sessions#lux.extensions.sessions.backend.UserMixin.is_authenticated\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">is_authenticated</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Return ``True`` if the user is is_authenticated</span>\n<span class=\"sd\">        &#39;&#39;&#39;</span>\n        <span class=\"k\">return</span> <span class=\"bp\">True</span>\n</div>\n    <span class=\"k\">def</span> <span class=\"nf\">is_active</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">False</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">is_anonymous</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">False</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">get_id</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">raise</span> <span class=\"ne\">NotImplementedError</span>\n\n<div class=\"viewcode-block\" id=\"UserMixin.get_oauths\"><a class=\"viewcode-back\" href=\"../../../../api/sessions#lux.extensions.sessions.backend.UserMixin.get_oauths\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">get_oauths</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Return a dictionary of oauths account&#39;&#39;&#39;</span>\n        <span class=\"k\">return</span> <span class=\"p\">{}</span>\n</div>\n    <span class=\"k\">def</span> <span class=\"nf\">set_oauth</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"p\">):</span>\n        <span class=\"k\">raise</span> <span class=\"ne\">NotImplementedError</span>\n\n<div class=\"viewcode-block\" id=\"UserMixin.remove_oauth\"><a class=\"viewcode-back\" href=\"../../../../api/sessions#lux.extensions.sessions.backend.UserMixin.remove_oauth\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">remove_oauth</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Remove a connected oauth account.</span>\n<span class=\"sd\">        Return ``True`` if successfully removed</span>\n<span class=\"sd\">        &#39;&#39;&#39;</span>\n        <span class=\"k\">raise</span> <span class=\"ne\">NotImplementedError</span>\n</div>\n<div class=\"viewcode-block\" id=\"UserMixin.email_user\"><a class=\"viewcode-back\" href=\"../../../../api/sessions#lux.extensions.sessions.backend.UserMixin.email_user\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">email_user</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">subject</span><span class=\"p\">,</span> <span class=\"n\">message</span><span class=\"p\">,</span> <span class=\"n\">from_email</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Sends an email to this User&#39;&#39;&#39;</span>\n        <span class=\"n\">send_mail</span><span class=\"p\">(</span><span class=\"n\">subject</span><span class=\"p\">,</span> <span class=\"n\">message</span><span class=\"p\">,</span> <span class=\"n\">from_email</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">email</span><span class=\"p\">],</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n</div>\n<div class=\"viewcode-block\" id=\"UserMixin.todict\"><a class=\"viewcode-back\" href=\"../../../../api/sessions#lux.extensions.sessions.backend.UserMixin.todict\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">todict</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Return a dictionary with information about the user&#39;&#39;&#39;</span>\n</div>\n    <span class=\"nd\">@classmethod</span>\n<div class=\"viewcode-block\" id=\"UserMixin.get_by_username\"><a class=\"viewcode-back\" href=\"../../../../api/sessions#lux.extensions.sessions.backend.UserMixin.get_by_username\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">get_by_username</span><span class=\"p\">(</span><span class=\"n\">cls</span><span class=\"p\">,</span> <span class=\"n\">username</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Retrieve a user from username</span>\n<span class=\"sd\">        &#39;&#39;&#39;</span>\n        <span class=\"k\">raise</span> <span class=\"ne\">NotImplementedError</span>\n</div>\n    <span class=\"nd\">@classmethod</span>\n    <span class=\"k\">def</span> <span class=\"nf\">get_by_email</span><span class=\"p\">(</span><span class=\"n\">cls</span><span class=\"p\">,</span> <span class=\"n\">email</span><span class=\"p\">):</span>\n        <span class=\"k\">raise</span> <span class=\"ne\">NotImplementedError</span>\n\n    <span class=\"nd\">@classmethod</span>\n<div class=\"viewcode-block\" id=\"UserMixin.get_by_oauth\"><a class=\"viewcode-back\" href=\"../../../../api/sessions#lux.extensions.sessions.backend.UserMixin.get_by_oauth\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">get_by_oauth</span><span class=\"p\">(</span><span class=\"n\">cls</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">identifier</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Retrieve a user from OAuth ``name`` with ``identifier``</span>\n<span class=\"sd\">        &#39;&#39;&#39;</span>\n        <span class=\"k\">raise</span> <span class=\"ne\">NotImplementedError</span>\n\n</div></div>\n<span class=\"k\">class</span> <span class=\"nc\">Anonymous</span><span class=\"p\">(</span><span class=\"n\">UserMixin</span><span class=\"p\">):</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">is_authenticated</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">False</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">is_anonymous</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">True</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">get_id</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"mi\">0</span>\n\n\n<div class=\"viewcode-block\" id=\"AuthBackend\"><a class=\"viewcode-back\" href=\"../../../../api/sessions#lux.extensions.sessions.backend.AuthBackend\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">AuthBackend</span><span class=\"p\">(</span><span class=\"nb\">object</span><span class=\"p\">):</span>\n    <span class=\"sd\">&#39;&#39;&#39;Interface for authentication backends.</span>\n\n<span class=\"sd\">    An authentication backend manage authentication, login, logout and</span>\n<span class=\"sd\">    several other activities which are required for managing users of</span>\n<span class=\"sd\">    a web site.</span>\n\n<span class=\"sd\">    During a client ``request``, the instance of the authentication backend</span>\n<span class=\"sd\">    can be accessed from the ``request`` cache dictionary::</span>\n\n<span class=\"sd\">        backend = request.cache.auth_backend</span>\n<span class=\"sd\">    &#39;&#39;&#39;</span>\n    <span class=\"k\">def</span> <span class=\"nf\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">app</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">app</span> <span class=\"o\">=</span> <span class=\"n\">app</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">config</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">app</span><span class=\"o\">.</span><span class=\"n\">config</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">__call__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">environ</span><span class=\"p\">,</span> <span class=\"n\">start_response</span><span class=\"p\">):</span>\n        <span class=\"n\">request</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">app</span><span class=\"o\">.</span><span class=\"n\">wsgi_request</span><span class=\"p\">(</span><span class=\"n\">environ</span><span class=\"p\">)</span>\n        <span class=\"c\"># Inject self as the authentication backend</span>\n        <span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">cache</span><span class=\"o\">.</span><span class=\"n\">auth_backend</span> <span class=\"o\">=</span> <span class=\"bp\">self</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">request</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">request_middleware</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"p\">[</span><span class=\"bp\">self</span><span class=\"p\">]</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">response_middleware</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">environ</span><span class=\"p\">,</span> <span class=\"n\">response</span><span class=\"p\">):</span>\n        <span class=\"n\">request</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">app</span><span class=\"o\">.</span><span class=\"n\">wsgi_request</span><span class=\"p\">(</span><span class=\"n\">environ</span><span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">response</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">,</span> <span class=\"n\">response</span><span class=\"p\">)</span>\n\n<div class=\"viewcode-block\" id=\"AuthBackend.request\"><a class=\"viewcode-back\" href=\"../../../../api/sessions#lux.extensions.sessions.backend.AuthBackend.request\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">request</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">request</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Handle an incoming request and should be implemented.&#39;&#39;&#39;</span>\n        <span class=\"k\">pass</span>\n</div>\n<div class=\"viewcode-block\" id=\"AuthBackend.response\"><a class=\"viewcode-back\" href=\"../../../../api/sessions#lux.extensions.sessions.backend.AuthBackend.response\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">response</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">request</span><span class=\"p\">,</span> <span class=\"n\">response</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Handle an outgoing ``response`` from a ``request``.</span>\n<span class=\"sd\">        By default it returns ``response`` without performing any operations.</span>\n<span class=\"sd\">        &#39;&#39;&#39;</span>\n        <span class=\"k\">return</span> <span class=\"n\">response</span>\n</div>\n<div class=\"viewcode-block\" id=\"AuthBackend.get_user\"><a class=\"viewcode-back\" href=\"../../../../api/sessions#lux.extensions.sessions.backend.AuthBackend.get_user\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">get_user</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">request</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Retrieve a user.</span>\n<span class=\"sd\">        Return ``None`` if the user could not be found&#39;&#39;&#39;</span>\n        <span class=\"k\">pass</span>\n</div>\n<div class=\"viewcode-block\" id=\"AuthBackend.csrf_token\"><a class=\"viewcode-back\" href=\"../../../../api/sessions#lux.extensions.sessions.backend.AuthBackend.csrf_token\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">csrf_token</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">request</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Create a CSRF token for a given request.&#39;&#39;&#39;</span>\n        <span class=\"k\">pass</span>\n</div>\n<div class=\"viewcode-block\" id=\"AuthBackend.validate_csrf_token\"><a class=\"viewcode-back\" href=\"../../../../api/sessions#lux.extensions.sessions.backend.AuthBackend.validate_csrf_token\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">validate_csrf_token</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">request</span><span class=\"p\">,</span> <span class=\"n\">token</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Validate CSRF</span>\n<span class=\"sd\">        &#39;&#39;&#39;</span>\n        <span class=\"k\">pass</span>\n</div>\n<div class=\"viewcode-block\" id=\"AuthBackend.anonymous\"><a class=\"viewcode-back\" href=\"../../../../api/sessions#lux.extensions.sessions.backend.AuthBackend.anonymous\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">anonymous</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;An anonymous user&#39;&#39;&#39;</span>\n        <span class=\"k\">return</span> <span class=\"n\">Anonymous</span><span class=\"p\">()</span>\n</div>\n<div class=\"viewcode-block\" id=\"AuthBackend.create_user\"><a class=\"viewcode-back\" href=\"../../../../api/sessions#lux.extensions.sessions.backend.AuthBackend.create_user\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">create_user</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">request</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Create a standard user.&#39;&#39;&#39;</span>\n        <span class=\"k\">pass</span>\n</div>\n<div class=\"viewcode-block\" id=\"AuthBackend.create_superuser\"><a class=\"viewcode-back\" href=\"../../../../api/sessions#lux.extensions.sessions.backend.AuthBackend.create_superuser\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">create_superuser</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">request</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Create a user with *superuser* permissions.&#39;&#39;&#39;</span>\n        <span class=\"k\">pass</span>\n</div>\n<div class=\"viewcode-block\" id=\"AuthBackend.has_permission\"><a class=\"viewcode-back\" href=\"../../../../api/sessions#lux.extensions.sessions.backend.AuthBackend.has_permission\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">has_permission</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">request</span><span class=\"p\">,</span> <span class=\"n\">level</span><span class=\"p\">,</span> <span class=\"n\">model</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Check for permission on a model.&#39;&#39;&#39;</span>\n        <span class=\"k\">return</span> <span class=\"bp\">False</span>\n</div>\n    <span class=\"k\">def</span> <span class=\"nf\">password</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">raw_password</span><span class=\"o\">=</span><span class=\"bp\">None</span><span class=\"p\">):</span>\n        <span class=\"k\">if</span> <span class=\"n\">raw_password</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_encript</span><span class=\"p\">(</span><span class=\"n\">raw_password</span><span class=\"p\">)</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"n\">UNUSABLE_PASSWORD</span>\n\n<div class=\"viewcode-block\" id=\"AuthBackend.set_password\"><a class=\"viewcode-back\" href=\"../../../../api/sessions#lux.extensions.sessions.backend.AuthBackend.set_password\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">set_password</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">user</span><span class=\"p\">,</span> <span class=\"n\">password</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Set the password for ``user``.</span>\n<span class=\"sd\">        This method should commit changes.&#39;&#39;&#39;</span>\n        <span class=\"k\">pass</span>\n</div>\n<div class=\"viewcode-block\" id=\"AuthBackend.normalise_email\"><a class=\"viewcode-back\" href=\"../../../../api/sessions#lux.extensions.sessions.backend.AuthBackend.normalise_email\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">normalise_email</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">email</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">        Normalise the address by lowercasing the domain part of the email</span>\n<span class=\"sd\">        address.</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">email</span> <span class=\"o\">=</span> <span class=\"n\">email</span> <span class=\"ow\">or</span> <span class=\"s\">&#39;&#39;</span>\n        <span class=\"k\">try</span><span class=\"p\">:</span>\n            <span class=\"n\">email_name</span><span class=\"p\">,</span> <span class=\"n\">domain_part</span> <span class=\"o\">=</span> <span class=\"n\">email</span><span class=\"o\">.</span><span class=\"n\">strip</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">rsplit</span><span class=\"p\">(</span><span class=\"s\">&#39;@&#39;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)</span>\n        <span class=\"k\">except</span> <span class=\"ne\">ValueError</span><span class=\"p\">:</span>\n            <span class=\"k\">pass</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"n\">email</span> <span class=\"o\">=</span> <span class=\"s\">&#39;@&#39;</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">([</span><span class=\"n\">email_name</span><span class=\"p\">,</span> <span class=\"n\">domain_part</span><span class=\"o\">.</span><span class=\"n\">lower</span><span class=\"p\">()])</span>\n        <span class=\"k\">return</span> <span class=\"n\">email</span>\n</div>\n<div class=\"viewcode-block\" id=\"AuthBackend.authenticate\"><a class=\"viewcode-back\" href=\"../../../../api/sessions#lux.extensions.sessions.backend.AuthBackend.authenticate\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">authenticate</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">request</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">params</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Authenticate user&#39;&#39;&#39;</span>\n        <span class=\"k\">raise</span> <span class=\"ne\">NotImplementedError</span>\n</div>\n<div class=\"viewcode-block\" id=\"AuthBackend.logout\"><a class=\"viewcode-back\" href=\"../../../../api/sessions#lux.extensions.sessions.backend.AuthBackend.logout\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">logout</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">request</span><span class=\"p\">,</span> <span class=\"n\">user</span><span class=\"o\">=</span><span class=\"bp\">None</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;&#39;Logout a user&#39;&#39;&#39;</span>\n        <span class=\"k\">raise</span> <span class=\"ne\">NotImplementedError</span>\n</pre></div></div></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class='small hidden-print text-muted' id='page-footer'>\n    <div class='container'>\n        <div class='row'>\n            <div class='block col-sm-5'>\n                <div class='hidden-xs'>\n                    <ul class=\"fa-ul text-left\">\n    <li><i class=\"fa-li fa fa-copyright\"></i>2014 <a href=\"http://quantmind.com\">Quantmind</a></li>\n    <li>Site build with Lux on python 3.4.2</li>\n    <li>Docs build with <a href=\"http://sphinx-doc.org/\" target=\"_blank\">Sphinx</a></li>\n    <li><a href=\"http://quantmind.github.io/lux/docs/changelog\">Changelog</a></li>\n    <li><a href=\"http://quantmind.github.io/lux/docs/api/\">API</a></li>\n    <li><a href=\"http://quantmind.github.io/lux/docs/EXTENSIONS/\">Extensions</a></li>\n    <li><a href=\"http://quantmind.github.io/lux/images\">Images</a></li>\n</ul>\n                </div>\n                <div class='text-center visible-xs'>\n                    <ul class=\"fa-ul text-left\">\n    <li><i class=\"fa-li fa fa-copyright\"></i>2014 <a href=\"http://quantmind.com\">Quantmind</a></li>\n    <li>Site build with Lux on python 3.4.2</li>\n    <li>Docs build with <a href=\"http://sphinx-doc.org/\" target=\"_blank\">Sphinx</a></li>\n    <li><a href=\"http://quantmind.github.io/lux/docs/changelog\">Changelog</a></li>\n    <li><a href=\"http://quantmind.github.io/lux/docs/api/\">API</a></li>\n    <li><a href=\"http://quantmind.github.io/lux/docs/EXTENSIONS/\">Extensions</a></li>\n    <li><a href=\"http://quantmind.github.io/lux/images\">Images</a></li>\n</ul>\n                </div>\n            </div>\n            <div class='block col-sm-2 text-center'>\n                <div class='hidden-xs'>\n                    <p><a href='#top' title=\"Lux\" class=\"hover-opacity\">\n    <img height=50 title='Lux' src='http://quantmind.github.io/lux/media/luxsite/lux.png' alt='Lux'>\n</a></p>\n                </div>\n                <div class='visible-xs'>\n                    <p><a href='https://twitter.com/quantmind' title='Follow quantmind on twitter'>\n<i class='fa fa-twitter fa-2x'></i></a>\n<a href='https://plus.google.com/+QuantmindPlus' title='Follow quantmind on google+'>\n<i class='fa fa-google-plus-square fa-2x'></i></a>\n<a href='https://www.facebook.com/quantmind' title='Follow quantmind on facebook'>\n<i class='fa fa-facebook-square fa-2x'></i></a>\n<a href='https://github.com/quantmind/lux' title='Lux on github'>\n<i class='fa fa-github fa-2x'></i></a></p>\n                </div>\n            </div>\n            <div class='block col-sm-5'>\n                <div class='text-right hidden-xs'>\n                    <p><a href='https://twitter.com/quantmind' title='Follow quantmind on twitter'>\n<i class='fa fa-twitter fa-2x'></i></a>\n<a href='https://plus.google.com/+QuantmindPlus' title='Follow quantmind on google+'>\n<i class='fa fa-google-plus-square fa-2x'></i></a>\n<a href='https://www.facebook.com/quantmind' title='Follow quantmind on facebook'>\n<i class='fa fa-facebook-square fa-2x'></i></a>\n<a href='https://github.com/quantmind/lux' title='Lux on github'>\n<i class='fa fa-github fa-2x'></i></a></p>\n                </div>\n                <div class='text-center visible-xs'>\n                    <p><a href='#top' title=\"Lux\" class=\"hover-opacity\">\n    <img height=50 title='Lux' src='http://quantmind.github.io/lux/media/luxsite/lux.png' alt='Lux'>\n</a></p>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>"}, "content_type": "text/html", "name": "modules_lux_extensions_sessions_backend", "api_url": "http://quantmind.github.io/lux/jsonapi/docs/modules/lux/extensions/sessions/backend", "site": {"url": "http://quantmind.github.io/lux", "template_engine": null, "name": "Lux", "media": "/media", "year": 2014, "date": "2014-11-11T17-42-25", "template": "doc.html", "python_version": "3.4.2", "lux_version": "0.1.1-alpha.1"}, "slug": "modules/lux/extensions/sessions/backend", "head": {}, "modified": "2014-11-11T17:42:26"}