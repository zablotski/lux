<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>lux.extensions.ui.lib.mixins &mdash; lux 0.1.0-beta.1 documentation</title>
    
    <link rel="stylesheet" href="../../../../../static/pulsar.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../../',
        VERSION:     '0.1.0-beta.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../../../static/jquery.js"></script>
    <script type="text/javascript" src="../../../../../static/underscore.js"></script>
    <script type="text/javascript" src="../../../../../static/doctools.js"></script>
    <link rel="shortcut icon" href="../../../../../static/favicon.ico"/>
    <link rel="top" title="lux 0.1.0-beta.1 documentation" href="../../../../../index.html" />
    <link rel="up" title="Module code" href="../../../../index.html" /> 
  </head>
  <body>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../../../index.html">lux 0.1.0-beta.1 documentation</a> &raquo;</li>
          <li><a href="../../../../index.html" accesskey="U">Module code</a> &raquo;</li> 
      </ul>
    </div>
<div class="deck">
<div class="header">
    
        <p class="developmentversion">
        Documentation for lux's <strong>DEVELOPMENT</strong> version. Get the
        <a href="http://pythonhosted.org/lux/">release docs here</a>.
        </p>
    
</div>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <h1>Source code for lux.extensions.ui.lib.mixins</h1><div class="highlight"><pre>
<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Bcd</span>
<span class="sd">~~~~~</span>
<span class="sd">.. autoclass:: Bcd</span>

<span class="sd">Border</span>
<span class="sd">~~~~~~~~~</span>
<span class="sd">.. autoclass:: Border</span>

<span class="sd">BoxSizing</span>
<span class="sd">~~~~~~~~~~~~~~~</span>
<span class="sd">.. autoclass:: BoxSizing</span>

<span class="sd">Clearfix</span>
<span class="sd">~~~~~~~~~</span>
<span class="sd">.. autoclass:: Clearfix</span>

<span class="sd">Clickable</span>
<span class="sd">~~~~~~~~~~~~</span>
<span class="sd">.. autoclass:: Clickable</span>

<span class="sd">CssInclude</span>
<span class="sd">~~~~~~~~~~~~~</span>
<span class="sd">.. autoclass:: CssInclude</span>

<span class="sd">Fontface</span>
<span class="sd">~~~~~~~~~~~~~~</span>
<span class="sd">.. autoclass:: Fontface</span>

<span class="sd">Gradient</span>
<span class="sd">~~~~~~~~~~~~~~~</span>
<span class="sd">.. autoclass:: Gradient</span>

<span class="sd">Media</span>
<span class="sd">~~~~~~~~~~~~~~~~~</span>
<span class="sd">.. autoclass:: Media</span>

<span class="sd">Opacity</span>
<span class="sd">~~~~~~~~~</span>
<span class="sd">.. autoclass:: Opacity</span>

<span class="sd">Radius</span>
<span class="sd">~~~~~~~~~</span>
<span class="sd">.. autoclass:: Radius</span>

<span class="sd">Shadow</span>
<span class="sd">~~~~~~~~</span>
<span class="sd">.. autoclass:: Shadow</span>

<span class="sd">Stack</span>
<span class="sd">~~~~~~~</span>
<span class="sd">.. autoclass:: Stack</span>

<span class="sd">Transition</span>
<span class="sd">~~~~~~~~~~~~~~~~~</span>
<span class="sd">.. autoclass:: Transition</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="kn">from</span> <span class="nn">.base</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">.colorvar</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Opacity&#39;</span><span class="p">,</span>
           <span class="s">&#39;Clearfix&#39;</span><span class="p">,</span>
           <span class="s">&#39;InlineBlock&#39;</span><span class="p">,</span>
           <span class="s">&#39;Textoverflow&#39;</span><span class="p">,</span>
           <span class="s">&#39;clear_anchor&#39;</span><span class="p">,</span>
           <span class="s">&#39;fixtop&#39;</span><span class="p">,</span>
           <span class="s">&#39;unfixtop&#39;</span><span class="p">,</span>
           <span class="s">&#39;Border&#39;</span><span class="p">,</span>
           <span class="s">&#39;Shadow&#39;</span><span class="p">,</span>
           <span class="s">&#39;BoxSizing&#39;</span><span class="p">,</span>
           <span class="s">&#39;Radius&#39;</span><span class="p">,</span>
           <span class="s">&#39;Gradient&#39;</span><span class="p">,</span>
           <span class="s">&#39;gradient&#39;</span><span class="p">,</span>
           <span class="s">&#39;Placeholder&#39;</span><span class="p">,</span>
           <span class="s">&#39;Bcd&#39;</span><span class="p">,</span>
           <span class="s">&#39;bcd&#39;</span><span class="p">,</span>
           <span class="s">&#39;Clickable&#39;</span><span class="p">,</span>
           <span class="s">&#39;Transition&#39;</span><span class="p">,</span>
           <span class="s">&#39;horizontal_navigation&#39;</span><span class="p">,</span>
           <span class="c"># generators</span>
           <span class="s">&#39;CssInclude&#39;</span><span class="p">,</span>
           <span class="s">&#39;Media&#39;</span><span class="p">,</span>
           <span class="s">&#39;Image&#39;</span><span class="p">,</span>
           <span class="s">&#39;Fontface&#39;</span><span class="p">,</span>
           <span class="s">&#39;Stack&#39;</span><span class="p">]</span>

<span class="c">############################################################################</span>
<span class="c">##    BATTERY INCLUDED MIXINS</span>
<span class="c">############################################################################</span>


<span class="c">################################################# OPACITY</span>
<div class="viewcode-block" id="Opacity"><a class="viewcode-back" href="../../../../../extensions/ui.html#lux.extensions.ui.lib.mixins.Opacity">[docs]</a><span class="k">class</span> <span class="nc">Opacity</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Add opacity to an element.</span>

<span class="sd">param o: a number between 0 and 1.</span>
<span class="sd">&#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">o</span> <span class="o">=</span> <span class="n">o</span>

    <span class="k">def</span> <span class="nf">value</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">o</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">apply</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;opacity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;filter&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;alpha(opacity=</span><span class="si">%s</span><span class="s">)&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="mi">100</span><span class="o">*</span><span class="n">value</span><span class="p">)</span>


<span class="c">################################################# CLEARFIX</span></div>
<div class="viewcode-block" id="Clearfix"><a class="viewcode-back" href="../../../../../extensions/ui.html#lux.extensions.ui.lib.mixins.Clearfix">[docs]</a><span class="k">class</span> <span class="nc">Clearfix</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;A ``clearfix`` is a way for an element to automatically clear after</span>
<span class="sd">itself, so that you don&#39;t need to add additional markup.</span>
<span class="sd">It&#39;s generally used in float layouts where elements are floated to be</span>
<span class="sd">stacked horizontally.&#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">apply</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">elem</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="s">&#39;:before,:after&#39;</span><span class="p">,</span>
                 <span class="n">display</span><span class="o">=</span><span class="s">&#39;table&#39;</span><span class="p">,</span>
                 <span class="n">content</span><span class="o">=</span><span class="s">&#39;&quot; &quot;&#39;</span><span class="p">)</span>
        <span class="n">elem</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="s">&#39;:after&#39;</span><span class="p">,</span> <span class="n">clear</span><span class="o">=</span><span class="s">&#39;both&#39;</span><span class="p">)</span>


<span class="c">################################################# InlineBlock</span></div>
<span class="k">class</span> <span class="nc">InlineBlock</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Cross browser inline block form</span>

<span class="sd">http://foohack.com/2007/11/cross-browser-support-for-inline-block-styling/&#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">apply</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;display&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;-moz-inline-stack&#39;</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;display&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;inline-block&#39;</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;zoom&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;1&#39;</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;*display&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;inline&#39;</span>


<span class="c">################################################# TEXT OVERFLOW</span>
<span class="k">class</span> <span class="nc">Textoverflow</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;overflow&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;hidden&#39;</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;text-overflow&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;ellipsis&#39;</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;white-space&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;nowrap&#39;</span>


<span class="k">class</span> <span class="nc">clear_anchor</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="n">elem</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span>
                 <span class="n">text_decoration</span><span class="o">=</span><span class="s">&#39;none&#39;</span><span class="p">,</span>
                 <span class="n">color</span><span class="o">=</span><span class="s">&#39;inherit&#39;</span><span class="p">,</span>
                 <span class="n">font_weight</span><span class="o">=</span><span class="s">&#39;inherit&#39;</span><span class="p">,</span>
                 <span class="n">cursor</span><span class="o">=</span><span class="s">&#39;inherit&#39;</span><span class="p">)</span>


<span class="c">################################################# FIXTOP</span>
<span class="k">class</span> <span class="nc">fixtop</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Fix an element at the top of the page.&#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">zindex</span><span class="o">=</span><span class="mi">2000</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">zindex</span> <span class="o">=</span> <span class="n">zindex</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;left&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;top&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;right&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;position&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;fixed&#39;</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;z_index&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">zindex</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">unfixtop</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;left&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;auto&#39;</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;top&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;auto&#39;</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;right&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;auto&#39;</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;position&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;static&#39;</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;z_index&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;auto&#39;</span>


<span class="c">################################################# CSS BORDER</span>
<div class="viewcode-block" id="Border"><a class="viewcode-back" href="../../../../../extensions/ui.html#lux.extensions.ui.lib.mixins.Border">[docs]</a><span class="k">class</span> <span class="nc">Border</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;A :class:`Mixin` for adding border to a css element.</span>

<span class="sd">    :param color: border color. If not set no border color is specified.</span>
<span class="sd">    :param style: border style. If not set, ``solid`` is used. Could be</span>
<span class="sd">        one of: ``solid``, ``dotted``, ``none``.</span>
<span class="sd">    :param width: border width. If not set ``1px`` is used.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                 <span class="n">right</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">style</span> <span class="o">=</span> <span class="n">style</span>
        <span class="n">has_spacing</span> <span class="o">=</span> <span class="p">(</span><span class="n">top</span> <span class="ow">or</span> <span class="n">bottom</span> <span class="ow">or</span> <span class="n">right</span> <span class="ow">or</span> <span class="n">left</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">width</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">has_spacing</span><span class="p">:</span>
                <span class="n">width</span> <span class="o">=</span> <span class="n">spacing</span><span class="p">(</span><span class="n">top</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">bottom</span><span class="p">,</span> <span class="n">left</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">assert</span> <span class="ow">not</span> <span class="n">has_spacing</span><span class="p">,</span> <span class="s">&#39;bad inputs in Border mixin&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">width</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="p">)</span>
        <span class="n">w</span> <span class="o">=</span> <span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">s</span> <span class="o">==</span> <span class="s">&#39;none&#39;</span><span class="p">:</span>
            <span class="n">elem</span><span class="p">[</span><span class="s">&#39;border&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">s</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">bits</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">if</span> <span class="n">w</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">w</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
                <span class="k">if</span> <span class="s">&#39; &#39;</span> <span class="ow">in</span> <span class="n">w</span><span class="p">:</span>
                    <span class="n">elem</span><span class="p">[</span><span class="s">&#39;border-width&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">w</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">bits</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">s</span> <span class="ow">or</span> <span class="n">w</span><span class="p">:</span>
                <span class="n">s</span> <span class="o">=</span> <span class="n">s</span> <span class="ow">or</span> <span class="s">&#39;solid&#39;</span>
                <span class="k">if</span> <span class="n">bits</span><span class="p">:</span>
                    <span class="n">bits</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">elem</span><span class="p">[</span><span class="s">&#39;border-style&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">s</span>
            <span class="k">if</span> <span class="n">c</span><span class="p">:</span>
                <span class="n">c</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">color</span><span class="p">(</span><span class="n">c</span><span class="p">))</span>
                <span class="k">if</span> <span class="n">bits</span><span class="p">:</span>
                    <span class="n">bits</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">elem</span><span class="p">[</span><span class="s">&#39;border-color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">c</span>
            <span class="k">if</span> <span class="n">bits</span><span class="p">:</span>
                <span class="n">elem</span><span class="p">[</span><span class="s">&#39;border&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">bits</span><span class="p">)</span>


<span class="c">################################################# CSS3 BOX SHADOW</span></div>
<div class="viewcode-block" id="Shadow"><a class="viewcode-back" href="../../../../../extensions/ui.html#lux.extensions.ui.lib.mixins.Shadow">[docs]</a><span class="k">class</span> <span class="nc">Shadow</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;The box-shadow css3 property attaches one or more drop-shadows to the</span>
<span class="sd">box. The property is a comma-separated list of shadows, each specified by</span>
<span class="sd">2-4 length values, an optional color, and an optional inset keyword.</span>
<span class="sd">Omitted lengths are 0::</span>

<span class="sd">    Shadow(hshadow, vshadow, blur, spread, color, inset)</span>

<span class="sd">.. attribute:: hshadow</span>

<span class="sd">    The position of the horizontal shadow. Negative values are allowed.</span>

<span class="sd">.. attribute:: vshadow</span>

<span class="sd">    The position of the vertical shadow. Negative values are allowed.</span>

<span class="sd">.. attribute:: blur</span>

<span class="sd">    Optional blur distance.</span>

<span class="sd">.. attribute:: spread</span>

<span class="sd">    The size of shadow.</span>

<span class="sd">.. attribute:: color</span>

<span class="sd">    Optional color of the shadow.</span>

<span class="sd">.. attribute:: inset</span>

<span class="sd">    Optional boolean to changes the shadow from an outer shadow (outset)</span>
<span class="sd">    to an inner shadow.</span>
<span class="sd">&#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hshadow</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">vshadow</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">blur</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">spread</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">color</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">inset</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hshadow</span> <span class="o">=</span> <span class="n">hshadow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vshadow</span> <span class="o">=</span> <span class="n">vshadow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blur</span> <span class="o">=</span> <span class="n">blur</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">spread</span> <span class="o">=</span> <span class="n">spread</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">inset</span> <span class="o">=</span> <span class="n">inset</span>

    <span class="k">def</span> <span class="nf">value</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">hshadow</span> <span class="o">=</span> <span class="n">size</span><span class="p">(</span><span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hshadow</span><span class="p">))</span>
        <span class="n">vshadow</span> <span class="o">=</span> <span class="n">size</span><span class="p">(</span><span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vshadow</span><span class="p">))</span>
        <span class="n">blur</span> <span class="o">=</span> <span class="n">size</span><span class="p">(</span><span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blur</span><span class="p">))</span>
        <span class="n">spread</span> <span class="o">=</span> <span class="n">size</span><span class="p">(</span><span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">spread</span><span class="p">))</span>
        <span class="n">col</span> <span class="o">=</span> <span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">)</span>
        <span class="n">inset</span> <span class="o">=</span> <span class="s">&#39; inset&#39;</span> <span class="k">if</span> <span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">inset</span><span class="p">)</span> <span class="k">else</span> <span class="s">&#39;&#39;</span>
        <span class="k">if</span> <span class="n">hshadow</span> <span class="ow">or</span> <span class="n">vshadow</span> <span class="ow">or</span> <span class="n">blur</span> <span class="ow">or</span> <span class="n">spread</span><span class="p">:</span>
            <span class="n">shadow</span> <span class="o">=</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s"> </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">hshadow</span><span class="p">,</span> <span class="n">vshadow</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">spread</span> <span class="ow">or</span> <span class="n">blur</span><span class="p">:</span>
                <span class="n">shadow</span> <span class="o">=</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s"> </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">shadow</span><span class="p">,</span> <span class="n">blur</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">spread</span><span class="p">:</span>
                    <span class="n">shadow</span> <span class="o">=</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s"> </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">shadow</span><span class="p">,</span> <span class="n">spread</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">col</span><span class="p">:</span>
                <span class="n">shadow</span> <span class="o">=</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s"> </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">shadow</span><span class="p">,</span> <span class="n">color</span><span class="p">(</span><span class="n">col</span><span class="p">))</span>
            <span class="k">return</span> <span class="s">&#39;</span><span class="si">%s%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">shadow</span><span class="p">,</span> <span class="n">inset</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">apply</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">,</span> <span class="n">shadow</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">shadow</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">elem</span><span class="p">[</span><span class="s">&#39;-webkit-box-shadow&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">shadow</span>
            <span class="n">elem</span><span class="p">[</span><span class="s">&#39;   -moz-box-shadow&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">shadow</span>
            <span class="n">elem</span><span class="p">[</span><span class="s">&#39;        box-shadow&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">shadow</span>


<span class="c">################################################# CSS3 BOX SIZING</span></div>
<div class="viewcode-block" id="BoxSizing"><a class="viewcode-back" href="../../../../../extensions/ui.html#lux.extensions.ui.lib.mixins.BoxSizing">[docs]</a><span class="k">class</span> <span class="nc">BoxSizing</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;The box-sizing CSS3 property.</span>

<span class="sd">This property allows you to define certain elements to fit an area in a</span>
<span class="sd">certain way.</span>

<span class="sd">The only parameter is ``value`` which can be one of:</span>

<span class="sd">* ``content-box``: This is the behavior of width and height as specified by</span>
<span class="sd">  CSS2. The specified width and height (and min/max properties) apply to the</span>
<span class="sd">  width and height respectively of the content box of the element.</span>
<span class="sd">  The padding and border of the element are laid out and drawn outside the</span>
<span class="sd">  specified width and height.</span>
<span class="sd">* ``border-box``: The specified width and height (and min/max properties)</span>
<span class="sd">  on this element determine the border box of the element.</span>
<span class="sd">  That is, any padding or border specified on the element is laid out and</span>
<span class="sd">  drawn inside this specified width and height. The content width and height</span>
<span class="sd">  are calculated by subtracting the border and padding widths of the</span>
<span class="sd">  respective sides from the specified &#39;width&#39; and &#39;height&#39; properties.</span>
<span class="sd">* ``inherit``</span>
<span class="sd">&#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">value</span>      <span class="c"># &#39;content-box&#39; or border-box</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;content-box&#39;</span><span class="p">,</span> <span class="s">&#39;border-box&#39;</span><span class="p">,</span> <span class="s">&#39;inherit&#39;</span><span class="p">):</span>
            <span class="n">elem</span><span class="p">[</span><span class="s">&#39;-webkit-box-sizing&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
            <span class="n">elem</span><span class="p">[</span><span class="s">&#39;   -moz-box-sizing&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
            <span class="n">elem</span><span class="p">[</span><span class="s">&#39;        box-sizing&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>


<span class="c">################################################# CSS3 RADIUS</span></div>
<div class="viewcode-block" id="Radius"><a class="viewcode-back" href="../../../../../extensions/ui.html#lux.extensions.ui.lib.mixins.Radius">[docs]</a><span class="k">class</span> <span class="nc">Radius</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;css3 border radius. The optional location parameter specifies the</span>
<span class="sd">location where to apply the radius. For example, &#39;top&#39;, &#39;bottom&#39;, &#39;left&#39;,</span>
<span class="sd">&#39;right&#39;, &#39;top-left&#39;, &#39;top-right&#39; and so on.</span>
<span class="sd">&#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">radius</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">radius</span><span class="p">,</span> <span class="n">Radius</span><span class="p">):</span>
            <span class="n">radius</span> <span class="o">=</span> <span class="n">radius</span><span class="o">.</span><span class="n">radius</span>
            <span class="n">location</span> <span class="o">=</span> <span class="n">location</span> <span class="ow">or</span> <span class="n">radius</span><span class="o">.</span><span class="n">location</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="n">radius</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="n">location</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="n">r</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">)</span>
        <span class="n">locs</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">location</span> <span class="ow">or</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">r</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">locs</span> <span class="o">==</span> <span class="s">&#39;top&#39;</span><span class="p">:</span>
                <span class="n">locs</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;-top-left&#39;</span><span class="p">,</span> <span class="s">&#39;-top-right&#39;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">locs</span> <span class="o">==</span> <span class="s">&#39;bottom&#39;</span><span class="p">:</span>
                <span class="n">locs</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;-bottom-left&#39;</span><span class="p">,</span> <span class="s">&#39;-bottom-right&#39;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">locs</span> <span class="o">==</span> <span class="s">&#39;left&#39;</span><span class="p">:</span>
                <span class="n">locs</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;-top-left&#39;</span><span class="p">,</span> <span class="s">&#39;-bottom-left&#39;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">locs</span> <span class="o">==</span> <span class="s">&#39;right&#39;</span><span class="p">:</span>
                <span class="n">locs</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;-top-right&#39;</span><span class="p">,</span> <span class="s">&#39;-bottom-right&#39;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">locs</span><span class="p">:</span>
                <span class="n">locs</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;-</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">locs</span><span class="p">,)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">locs</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,)</span>
            <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">locs</span><span class="p">:</span>
                <span class="n">elem</span><span class="p">[</span><span class="s">&#39;-webkit-border</span><span class="si">%s</span><span class="s">-radius&#39;</span> <span class="o">%</span> <span class="n">l</span><span class="p">]</span> <span class="o">=</span> <span class="n">r</span>
                <span class="n">elem</span><span class="p">[</span><span class="s">&#39;   -moz-border</span><span class="si">%s</span><span class="s">-radius&#39;</span> <span class="o">%</span> <span class="n">l</span><span class="p">]</span> <span class="o">=</span> <span class="n">r</span>
                <span class="n">elem</span><span class="p">[</span><span class="s">&#39;        border</span><span class="si">%s</span><span class="s">-radius&#39;</span> <span class="o">%</span> <span class="n">l</span><span class="p">]</span> <span class="o">=</span> <span class="n">r</span>


<span class="c">################################################# CSS3 GRADIENT</span></div>
<div class="viewcode-block" id="Gradient"><a class="viewcode-back" href="../../../../../extensions/ui.html#lux.extensions.ui.lib.mixins.Gradient">[docs]</a><span class="k">class</span> <span class="nc">Gradient</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;css3 gradient. Don&#39;t initialise directly, use :func:`gradient`</span>
<span class="sd">instead.</span>

<span class="sd">.. attribute:: direction</span>

<span class="sd">    One of ``v`` for vertical, ``h`` for horizontal.</span>

<span class="sd">.. attribute:: start</span>

<span class="sd">    The start color.</span>

<span class="sd">.. attribute:: end</span>

<span class="sd">    The start color.</span>
<span class="sd">&#39;&#39;&#39;</span>
    <span class="n">direction</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">direction</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">end</span> <span class="o">=</span> <span class="n">args</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">start</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">end</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">middle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;The middle value of the gradient.&#39;&#39;&#39;</span>
        <span class="n">start</span> <span class="o">=</span> <span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">start</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">=</span> <span class="n">color</span><span class="p">(</span><span class="n">start</span><span class="p">)</span>
            <span class="n">e</span> <span class="o">=</span> <span class="n">color</span><span class="p">(</span><span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">end</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">RGBA</span><span class="o">.</span><span class="n">mix</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="n">start</span> <span class="o">=</span> <span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">start</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">=</span> <span class="n">color</span><span class="p">(</span><span class="n">start</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">direction</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">d</span> <span class="o">=</span> <span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">direction</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">d</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;h&#39;</span><span class="p">,</span> <span class="s">&#39;v&#39;</span><span class="p">):</span>
                    <span class="n">decorate</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">d</span><span class="o">+</span><span class="s">&#39;gradient&#39;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s">&#39;Gradient </span><span class="si">%s</span><span class="s"> not supported&#39;</span> <span class="o">%</span> <span class="n">d</span><span class="p">)</span>
                <span class="n">e</span> <span class="o">=</span> <span class="n">color</span><span class="p">(</span><span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">end</span><span class="p">))</span>
                <span class="n">decorate</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c"># a simple scalar, just set the background</span>
                <span class="n">elem</span><span class="p">[</span><span class="s">&#39;background&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_gradient</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="n">p</span> <span class="o">=</span> <span class="s">&#39;100% 0&#39;</span> <span class="k">if</span> <span class="n">l</span> <span class="o">==</span> <span class="s">&#39;left&#39;</span> <span class="k">else</span> <span class="s">&#39;0 100%&#39;</span>
        <span class="n">t</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">l</span> <span class="o">==</span> <span class="s">&#39;left&#39;</span> <span class="k">else</span> <span class="mi">0</span>
        <span class="c">#</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;background-color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">e</span>
        <span class="c">#</span>
        <span class="c"># FF 3.6+</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;background-image&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;-moz-linear-gradient({2}, {0}, {1})&#39;</span>
                                    <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">l</span><span class="p">))</span>
        <span class="c">#</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;background-image&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;-ms-linear-gradient({2}, {0}, {1})&#39;</span>
                                    <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">l</span><span class="p">))</span>
        <span class="c">#</span>
        <span class="c"># Safari 4+, Chrome 2+</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;background-image&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;-webkit-gradient(linear, 0 0, {2}, &#39;</span>
                                    <span class="s">&#39;from({0}), to({1}))&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">p</span><span class="p">))</span>
        <span class="c">#</span>
        <span class="c"># Safari 5.1+, Chrome 10+</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;background-image&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;-webkit-linear-gradient({2}, {0}, {1})&#39;</span>
                                    <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">l</span><span class="p">))</span>
        <span class="c">#</span>
        <span class="c"># Opera 11.10</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;background-image&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;-o-linear-gradient({2}, {0}, {1})&#39;</span>
                                    <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">l</span><span class="p">))</span>
        <span class="c">#</span>
        <span class="c"># Le standard</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;background-image&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;linear-gradient({2}, {0}, {1})&#39;</span>
                                    <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">l</span><span class="p">))</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;background-repeat&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;repeat-x&#39;</span>
        <span class="c">#</span>
        <span class="c"># IE9 and down</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;filter&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s">&quot;progid:DXImageTransform.Microsoft.gradient(&quot;</span>
                          <span class="s">&quot;startColorstr=&#39;{0}&#39;, endColorstr=&#39;{1}&#39;, &quot;</span>
                          <span class="s">&quot;GradientType={2})&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">t</span><span class="p">))</span>
        <span class="c">#</span>
        <span class="c"># Reset filters for IE</span>
        <span class="c">#elem[&#39;filter&#39;] = (&#39;progid:DXImageTransform.Microsoft.gradient&#39;</span>
        <span class="c">#                  &#39;(enabled = false)&#39;)</span>

    <span class="k">def</span> <span class="nf">hgradient</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gradient</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="s">&#39;left&#39;</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">vgradient</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gradient</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="s">&#39;top&#39;</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>

</div>
<span class="k">def</span> <span class="nf">gradient</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Gradient</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">Gradient</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>


<span class="c">################################################# PLACEHOLDER</span>
<span class="k">class</span> <span class="nc">Placeholder</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">color</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="n">cssa</span><span class="p">((</span><span class="s">&#39;::-webkit-input-placeholder,&#39;</span>
              <span class="s">&#39;:-moz-placeholder,&#39;</span>
              <span class="s">&#39;:-ms-input-placeholder&#39;</span><span class="p">),</span>
             <span class="n">parent</span><span class="o">=</span><span class="n">elem</span><span class="p">,</span>
             <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">)</span>


<span class="c">################################################# BCD - BACKGROUND-COLOR-DECO</span>
<div class="viewcode-block" id="Bcd"><a class="viewcode-back" href="../../../../../extensions/ui.html#lux.extensions.ui.lib.mixins.Bcd">[docs]</a><span class="k">class</span> <span class="nc">Bcd</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Background-color-decorator :class:`Mixin`.</span>

<span class="sd">    It can be applied to any element and it forms the basis for the</span>
<span class="sd">    :class:`Clickable` Mixin.</span>

<span class="sd">    :parameter background: backgroud or css3 :class:`Gradient`.</span>
<span class="sd">    :parameter colour: text colour</span>
<span class="sd">    :parameter text_shadow: text shadow</span>
<span class="sd">    :parameter text_decoration: text decoration</span>
<span class="sd">    :parameter border: :class:`Border` or parameters for :class:`Border`. If</span>
<span class="sd">        specified, the element will have a border definition.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">text_shadow</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">text_decoration</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">background</span> <span class="o">=</span> <span class="n">background</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">text_shadow</span> <span class="o">=</span> <span class="n">text_shadow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">text_decoration</span> <span class="o">=</span> <span class="n">text_decoration</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">border</span><span class="p">,</span> <span class="n">Border</span><span class="p">)</span> <span class="ow">and</span> <span class="n">border</span><span class="p">:</span>
            <span class="n">border</span> <span class="o">=</span> <span class="n">Border</span><span class="p">(</span><span class="o">**</span><span class="n">as_params</span><span class="p">(</span><span class="n">border</span><span class="p">,</span> <span class="s">&#39;color&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">border</span> <span class="o">=</span> <span class="n">border</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="n">background</span> <span class="o">=</span> <span class="n">gradient</span><span class="p">(</span><span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">background</span><span class="p">))</span>
        <span class="n">background</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">safe_color</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">)</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;text-shadow&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text_shadow</span><span class="p">)</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;text_decoration&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text_decoration</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">border</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">border</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>

</div>
<span class="k">def</span> <span class="nf">bcd</span><span class="p">(</span><span class="n">params</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">Bcd</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">params</span>
    <span class="k">elif</span> <span class="n">params</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">Bcd</span><span class="p">(</span><span class="o">**</span><span class="n">as_params</span><span class="p">(</span><span class="n">params</span><span class="p">))</span>


<span class="c">################################################# CLICKABLE</span>
<div class="viewcode-block" id="Clickable"><a class="viewcode-back" href="../../../../../extensions/ui.html#lux.extensions.ui.lib.mixins.Clickable">[docs]</a><span class="k">class</span> <span class="nc">Clickable</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Defines the default, hover and active state.&#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">hover</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">active</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">cursor</span><span class="o">=</span><span class="s">&#39;pointer&#39;</span><span class="p">,</span>
                 <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span> <span class="o">=</span> <span class="n">cursor</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">default</span> <span class="o">=</span> <span class="n">bcd</span><span class="p">(</span><span class="n">default</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hover</span> <span class="o">=</span> <span class="n">bcd</span><span class="p">(</span><span class="n">hover</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">active</span> <span class="o">=</span> <span class="n">bcd</span><span class="p">(</span><span class="n">active</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="n">classes</span> <span class="o">=</span> <span class="n">elem</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">classes</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;cursor&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">default</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">default</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">hover</span><span class="p">:</span>
            <span class="n">elem</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="s">&#39;:hover,.</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">classes</span><span class="o">.</span><span class="n">hover</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">hover</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">active</span><span class="p">:</span>
            <span class="n">elem</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="s">&#39;:active,.</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">classes</span><span class="o">.</span><span class="n">active</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">active</span><span class="p">)</span>


<span class="c">################################################# TRANSITION</span></div>
<div class="viewcode-block" id="Transition"><a class="viewcode-back" href="../../../../../extensions/ui.html#lux.extensions.ui.lib.mixins.Transition">[docs]</a><span class="k">class</span> <span class="nc">Transition</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Define a CSS3 transition.</span>

<span class="sd">A transition is controlled via the following parameters:</span>

<span class="sd">.. attribute:: property</span>

<span class="sd">    Specifies the name or names of the CSS properties to which transitions</span>
<span class="sd">    should be applied. Only properties listed here are animated during</span>
<span class="sd">    transitions; changes to all other properties occur instantaneously</span>
<span class="sd">    as usual.</span>

<span class="sd">    Valid values are: ``opacity``, ``left``, ``top``, ``height`` and so forth.</span>

<span class="sd">.. attribute:: duration</span>

<span class="sd">    Specifies the duration over which transitions should occur. You can specify</span>
<span class="sd">    a single duration that applies to all properties during the transition,</span>
<span class="sd">    or multiple values to allow each property to transition over a different</span>
<span class="sd">    period of time.</span>

<span class="sd">    Valid value is a string of type ``0.5s``, ``2s, 5s`` and so forth.</span>

<span class="sd">.. attribute:: easing</span>

<span class="sd">    The `easing function`_ to use. Default: ``linear``.</span>

<span class="sd">.. attribute:: delay</span>

<span class="sd">    Defines how long to wait between the time a property is changed and the</span>
<span class="sd">    transition actually begins.</span>

<span class="sd">.. _`easing function`: http://easings.net/</span>
<span class="sd">&#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">property</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">easing</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">property</span> <span class="o">=</span> <span class="nb">property</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">duration</span> <span class="o">=</span> <span class="n">duration</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">easing</span> <span class="o">=</span> <span class="n">easing</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="o">=</span> <span class="n">delay</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="nb">property</span> <span class="o">=</span> <span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">property</span><span class="p">)</span>
        <span class="n">duration</span> <span class="o">=</span> <span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">duration</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">property</span> <span class="o">==</span> <span class="s">&#39;none&#39;</span><span class="p">:</span>
            <span class="n">transition</span> <span class="o">=</span> <span class="s">&#39;none&#39;</span>
        <span class="k">elif</span> <span class="n">duration</span><span class="p">:</span>
            <span class="n">ds</span> <span class="o">=</span> <span class="n">duration</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
            <span class="n">es</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">easing</span> <span class="ow">or</span> <span class="s">&#39;linear&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
            <span class="n">ls</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="ow">or</span> <span class="s">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
            <span class="nb">all</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="nb">property</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">property</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;,&#39;</span><span class="p">)):</span>
                <span class="nb">property</span> <span class="o">=</span> <span class="nb">property</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39; &#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">property</span><span class="p">:</span>
                    <span class="n">dur</span> <span class="o">=</span> <span class="p">(</span><span class="n">ds</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span> <span class="k">else</span> <span class="n">ds</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39; &#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
                    <span class="n">eas</span> <span class="o">=</span> <span class="p">(</span><span class="n">es</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">es</span><span class="p">)</span> <span class="k">else</span> <span class="n">es</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39; &#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
                    <span class="n">lay</span> <span class="o">=</span> <span class="p">(</span><span class="n">ls</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">ls</span><span class="p">)</span> <span class="k">else</span> <span class="n">ls</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39; &#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">lay</span><span class="p">:</span>
                        <span class="n">lay</span> <span class="o">=</span> <span class="s">&#39; </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">lay</span>
                    <span class="nb">all</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%s</span><span class="s"> </span><span class="si">%s</span><span class="s"> </span><span class="si">%s%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">property</span><span class="p">,</span> <span class="n">dur</span><span class="p">,</span> <span class="n">eas</span><span class="p">,</span> <span class="n">lay</span><span class="p">))</span>
            <span class="n">transition</span> <span class="o">=</span> <span class="s">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">all</span><span class="p">)</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;-webkit-transition&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">transition</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;   -moz-transition&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">transition</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;     -o-transition&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">transition</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;        transition&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">transition</span>


<span class="c">################################################# HORIZONTAL NAVIGATION</span></div>
<span class="k">class</span> <span class="nc">horizontal_navigation</span><span class="p">(</span><span class="n">Clickable</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Horizontal navigation with ul and li tags.</span>

<span class="sd">:parameter padding: the padding for the navigation anchors.&#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="nb">float</span><span class="o">=</span><span class="s">&#39;left&#39;</span><span class="p">,</span>
                 <span class="n">margin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                 <span class="n">height</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">padding</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">secondary_default</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">secondary_hover</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">secondary_active</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">secondary_padding</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">secondary_width</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">radius</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">box_shadow</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">display_all</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                 <span class="n">z_index</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">horizontal_navigation</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">float</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;left&#39;</span><span class="p">,</span> <span class="s">&#39;right&#39;</span><span class="p">):</span>
            <span class="nb">float</span> <span class="o">=</span> <span class="s">&#39;left&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">float</span> <span class="o">=</span> <span class="nb">float</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">margin</span> <span class="o">=</span> <span class="n">margin</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">height</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">secondary_default</span> <span class="o">=</span> <span class="n">secondary_default</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">secondary_hover</span> <span class="o">=</span> <span class="n">secondary_hover</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">secondary_active</span> <span class="o">=</span> <span class="n">secondary_active</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">secondary_width</span> <span class="o">=</span> <span class="n">secondary_width</span> <span class="ow">or</span> <span class="n">px</span><span class="p">(</span><span class="mi">120</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="n">Radius</span><span class="p">(</span><span class="n">radius</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">box_shadow</span> <span class="o">=</span> <span class="n">Shadow</span><span class="p">(</span><span class="n">box_shadow</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">display_all</span> <span class="o">=</span> <span class="n">display_all</span>
        <span class="c"># padding</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">padding</span> <span class="o">=</span> <span class="n">padding</span> <span class="ow">or</span> <span class="n">secondary_padding</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">secondary_padding</span> <span class="o">=</span> <span class="n">secondary_padding</span> <span class="ow">or</span> <span class="n">px</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="c"># Z index for subnavigations</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">z_index</span> <span class="o">=</span> <span class="n">z_index</span> <span class="ow">or</span> <span class="mi">1000</span>

    <span class="k">def</span> <span class="nf">list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">default</span><span class="p">,</span> <span class="n">hover</span><span class="p">,</span> <span class="n">active</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">css</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span>
                   <span class="n">default</span><span class="o">.</span><span class="n">background</span><span class="p">,</span>
                   <span class="n">css</span><span class="p">(</span><span class="s">&#39;&gt; a&#39;</span><span class="p">,</span>
                       <span class="n">bcd</span><span class="p">(</span><span class="n">background</span><span class="o">=</span><span class="s">&#39;transparent&#39;</span><span class="p">,</span>
                           <span class="n">color</span><span class="o">=</span><span class="n">default</span><span class="o">.</span><span class="n">color</span><span class="p">,</span>
                           <span class="n">text_decoration</span><span class="o">=</span><span class="n">default</span><span class="o">.</span><span class="n">text_decoration</span><span class="p">,</span>
                           <span class="n">text_shadow</span><span class="o">=</span><span class="n">default</span><span class="o">.</span><span class="n">text_shadow</span><span class="p">)),</span>
                   <span class="n">css</span><span class="p">(</span><span class="s">&#39;:hover&#39;</span><span class="p">,</span>
                       <span class="n">hover</span><span class="o">.</span><span class="n">background</span><span class="p">,</span>
                       <span class="n">css</span><span class="p">(</span><span class="s">&#39;&gt; a&#39;</span><span class="p">,</span>
                           <span class="n">bcd</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="n">hover</span><span class="o">.</span><span class="n">color</span><span class="p">,</span>
                               <span class="n">text_decoration</span><span class="o">=</span><span class="n">hover</span><span class="o">.</span><span class="n">text_decoration</span><span class="p">,</span>
                               <span class="n">text_shadow</span><span class="o">=</span><span class="n">hover</span><span class="o">.</span><span class="n">text_shadow</span><span class="p">)),</span>
                       <span class="n">css</span><span class="p">(</span><span class="s">&#39;&gt; ul&#39;</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="s">&#39;block&#39;</span><span class="p">)),</span>
                   <span class="n">css</span><span class="p">(</span><span class="s">&#39;:active, .</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">classes</span><span class="o">.</span><span class="n">state_active</span><span class="p">,</span>
                       <span class="n">active</span><span class="o">.</span><span class="n">background</span><span class="p">,</span>
                       <span class="n">css</span><span class="p">(</span><span class="s">&#39;&gt; a&#39;</span><span class="p">,</span>
                           <span class="n">bcd</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="n">active</span><span class="o">.</span><span class="n">color</span><span class="p">,</span>
                               <span class="n">text_decoration</span><span class="o">=</span><span class="n">active</span><span class="o">.</span><span class="n">text_decoration</span><span class="p">,</span>
                               <span class="n">text_shadow</span><span class="o">=</span><span class="n">active</span><span class="o">.</span><span class="n">text_shadow</span><span class="p">))),</span>
                   <span class="n">cursor</span><span class="o">=</span><span class="s">&#39;pointer&#39;</span><span class="p">,</span>
                   <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;display&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;block&#39;</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;float&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">float</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;position&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;relative&#39;</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;padding&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">margin</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">float</span> <span class="o">==</span> <span class="s">&#39;left&#39;</span><span class="p">:</span>
                <span class="n">elem</span><span class="p">[</span><span class="s">&#39;margin&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">spacing</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">margin</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">elem</span><span class="p">[</span><span class="s">&#39;margin&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">spacing</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">margin</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">box_shadow</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
        <span class="n">padding</span> <span class="o">=</span> <span class="p">(</span><span class="n">spacing</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">padding</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">padding</span> <span class="k">else</span>
                   <span class="n">spacing</span><span class="p">(</span><span class="n">px</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">px</span><span class="p">(</span><span class="mi">10</span><span class="p">)))</span>
        <span class="c">#</span>
        <span class="n">default</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default</span> <span class="ow">or</span> <span class="n">bcd</span><span class="p">()</span>
        <span class="n">hover</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hover</span> <span class="ow">or</span> <span class="n">bcd</span><span class="p">()</span>
        <span class="n">active</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">active</span> <span class="ow">or</span> <span class="n">bcd</span><span class="p">()</span>
        <span class="c"># li elements in the main navigation ( &gt; li)</span>
        <span class="n">li</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list</span><span class="p">(</span><span class="s">&#39;&gt; li&#39;</span><span class="p">,</span> <span class="n">elem</span><span class="p">,</span> <span class="n">default</span><span class="p">,</span> <span class="n">hover</span><span class="p">,</span> <span class="n">active</span><span class="p">)</span>
        <span class="n">li</span><span class="p">[</span><span class="s">&#39;display&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;block&#39;</span>
        <span class="n">li</span><span class="p">[</span><span class="s">&#39;float&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;left&#39;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">:</span>
            <span class="n">line_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">-</span> <span class="n">padding</span><span class="o">.</span><span class="n">top</span> <span class="o">-</span> <span class="n">padding</span><span class="o">.</span><span class="n">bottom</span>
            <span class="k">if</span> <span class="n">line_height</span><span class="o">.</span><span class="n">value</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&#39;Nav has height to low compared to paddings&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">line_height</span> <span class="o">=</span> <span class="bp">None</span>

        <span class="c"># subnavigations</span>
        <span class="n">default</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">secondary_default</span> <span class="ow">or</span> <span class="n">default</span>
        <span class="n">hover</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">secondary_hover</span> <span class="ow">or</span> <span class="n">hover</span>
        <span class="n">active</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">secondary_active</span> <span class="ow">or</span> <span class="n">active</span>
        <span class="n">ul</span> <span class="o">=</span> <span class="n">css</span><span class="p">(</span><span class="s">&#39;ul&#39;</span><span class="p">,</span>
                 <span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">,</span>
                 <span class="n">gradient</span><span class="p">(</span><span class="n">default</span><span class="o">.</span><span class="n">background</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
                 <span class="n">parent</span><span class="o">=</span><span class="n">elem</span><span class="p">,</span>
                 <span class="n">cursor</span><span class="o">=</span><span class="s">&#39;default&#39;</span><span class="p">,</span>
                 <span class="n">position</span><span class="o">=</span><span class="s">&#39;absolute&#39;</span><span class="p">,</span>
                 <span class="n">margin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                 <span class="n">padding</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">secondary_padding</span><span class="p">,</span>
                 <span class="n">top</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">,</span>
                 <span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">secondary_width</span><span class="p">,</span>
                 <span class="n">list_style</span><span class="o">=</span><span class="s">&#39;none&#39;</span><span class="p">,</span>
                 <span class="n">list_style_image</span><span class="o">=</span><span class="s">&#39;none&#39;</span><span class="p">,</span>
                 <span class="n">z_index</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">z_index</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_all</span><span class="p">:</span>
            <span class="n">ul</span><span class="p">[</span><span class="s">&#39;display&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;none&#39;</span>
        <span class="c"># The sub lists li</span>
        <span class="n">li</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list</span><span class="p">(</span><span class="s">&#39;li&#39;</span><span class="p">,</span> <span class="n">ul</span><span class="p">,</span> <span class="n">default</span><span class="p">,</span> <span class="n">hover</span><span class="p">,</span> <span class="n">active</span><span class="p">)</span>
        <span class="n">li</span><span class="p">[</span><span class="s">&#39;padding&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">li</span><span class="p">[</span><span class="s">&#39;margin&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">li</span><span class="p">[</span><span class="s">&#39;position&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;relative&#39;</span>
        <span class="n">li</span><span class="p">[</span><span class="s">&#39;border&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;none&#39;</span>
        <span class="n">li</span><span class="p">[</span><span class="s">&#39;width&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;auto&#39;</span>
        <span class="c"># the sub sub lists</span>
        <span class="n">ulul</span> <span class="o">=</span> <span class="n">css</span><span class="p">(</span><span class="s">&#39;ul&#39;</span><span class="p">,</span>
                   <span class="n">gradient</span><span class="p">(</span><span class="n">default</span><span class="o">.</span><span class="n">background</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
                   <span class="n">parent</span><span class="o">=</span><span class="n">li</span><span class="p">,</span>
                   <span class="n">top</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                   <span class="n">position</span><span class="o">=</span><span class="s">&#39;absolute&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">float</span> <span class="o">==</span> <span class="s">&#39;right&#39;</span><span class="p">:</span>
            <span class="n">ul</span><span class="p">[</span><span class="s">&#39;right&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">ulul</span><span class="p">[</span><span class="s">&#39;left&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;auto&#39;</span>
            <span class="n">ulul</span><span class="p">[</span><span class="s">&#39;right&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">secondary_width</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ulul</span><span class="p">[</span><span class="s">&#39;left&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">secondary_width</span>
            <span class="n">ulul</span><span class="p">[</span><span class="s">&#39;right&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;auto&#39;</span>
        <span class="c"># The anchor</span>
        <span class="n">css</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span>
            <span class="n">parent</span><span class="o">=</span><span class="n">elem</span><span class="p">,</span>
            <span class="n">display</span><span class="o">=</span><span class="s">&#39;inline-block&#39;</span><span class="p">,</span>
            <span class="nb">float</span><span class="o">=</span><span class="s">&#39;none&#39;</span><span class="p">,</span>
            <span class="n">line_height</span><span class="o">=</span><span class="n">line_height</span><span class="p">,</span>
            <span class="n">padding</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">padding</span><span class="p">)</span>


<span class="c">################################################# Media</span>
<div class="viewcode-block" id="Media"><a class="viewcode-back" href="../../../../../extensions/ui.html#lux.extensions.ui.lib.mixins.Media">[docs]</a><span class="k">class</span> <span class="nc">Media</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Add @media queries to css.&#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">query</span> <span class="o">=</span> <span class="n">query</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">container</span> <span class="o">=</span> <span class="n">Css</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">css</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="o">*</span><span class="n">components</span><span class="p">,</span> <span class="o">**</span><span class="n">attributes</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="o">*</span><span class="n">components</span><span class="p">,</span> <span class="o">**</span><span class="n">attributes</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">variables</span> <span class="o">=</span> <span class="n">elem</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">variables</span>
        <span class="n">stream</span> <span class="o">=</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="s">&#39;@media </span><span class="si">%s</span><span class="s"> {&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">,</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s">&#39;    &#39;</span><span class="p">),</span>
                            <span class="s">&#39;}&#39;</span><span class="p">))</span>
        <span class="n">elem</span><span class="o">.</span><span class="n">add_stream</span><span class="p">(</span><span class="n">stream</span><span class="p">)</span>


<span class="c">################################################# INCLUDE CSS</span></div>
<div class="viewcode-block" id="CssInclude"><a class="viewcode-back" href="../../../../../extensions/ui.html#lux.extensions.ui.lib.mixins.CssInclude">[docs]</a><span class="k">class</span> <span class="nc">CssInclude</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Include one or more css resources. The correct use of this</span>
<span class="sd">:class:`Mixin` is with the *body* tag only::</span>

<span class="sd">    css(&#39;body&#39;, css_include(path))</span>

<span class="sd">path can be both an internett address as well as a local url.</span>

<span class="sd">.. attribute:: path</span>

<span class="sd">    A valid file location or a fully qualified internet address</span>

<span class="sd">.. attribute:: location</span>

<span class="sd">    Optional relative location of imports. If specified ``url(...)``</span>
<span class="sd">    entries in the css string will be modified.</span>

<span class="sd">.. attribute:: replace</span>

<span class="sd">    Optional string to replace just after a ``url(`` element in the</span>
<span class="sd">    css file.</span>
<span class="sd">&#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">path</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="n">location</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">replace</span> <span class="o">=</span> <span class="n">replace</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">path</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;http&#39;</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                    <span class="n">stream</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">stream</span> <span class="o">=</span> <span class="n">path</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">elem</span><span class="o">.</span><span class="n">http</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
                <span class="n">stream</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">decode_content</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
        <span class="n">root</span> <span class="o">=</span> <span class="n">elem</span><span class="o">.</span><span class="n">root</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">location</span><span class="p">:</span>
            <span class="n">stream</span> <span class="o">=</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">correct</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">stream</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">stream</span>

    <span class="k">def</span> <span class="nf">correct</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">stream</span><span class="p">):</span>
        <span class="n">media_url</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="s">&#39;MEDIA_URL&#39;</span><span class="p">)</span>
        <span class="n">adv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">advance</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">stream</span><span class="o">.</span><span class="n">splitlines</span><span class="p">():</span>
            <span class="n">n</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s">&#39;url(&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">n</span><span class="p">:</span>
                <span class="n">rline</span> <span class="o">=</span> <span class="n">line</span>
                <span class="n">old_line</span> <span class="o">=</span> <span class="n">line</span>
                <span class="n">line</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
                <span class="k">while</span> <span class="n">n</span><span class="p">:</span>
                    <span class="n">n</span> <span class="o">-=</span> <span class="mi">1</span>
                    <span class="n">p</span> <span class="o">=</span> <span class="n">rline</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;url(&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">4</span>
                    <span class="n">rline</span><span class="p">,</span> <span class="n">line</span> <span class="o">=</span> <span class="n">adv</span><span class="p">(</span><span class="n">rline</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
                    <span class="n">end</span> <span class="o">=</span> <span class="s">&#39;)&#39;</span>
                    <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;&quot;&#39;</span><span class="p">,</span> <span class="s">&quot;&#39;&quot;</span><span class="p">):</span>
                        <span class="k">if</span> <span class="n">rline</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
                            <span class="n">rline</span><span class="p">,</span> <span class="n">line</span> <span class="o">=</span> <span class="n">adv</span><span class="p">(</span><span class="n">rline</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                            <span class="n">end</span> <span class="o">=</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">)&quot;</span> <span class="o">%</span> <span class="n">e</span>
                            <span class="k">break</span>
                    <span class="n">p</span> <span class="o">=</span> <span class="n">rline</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">end</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">p</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">rline</span><span class="p">,</span> <span class="n">url</span> <span class="o">=</span> <span class="n">adv</span><span class="p">(</span><span class="n">rline</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
                        <span class="n">nurl</span> <span class="o">=</span> <span class="bp">None</span>
                        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">replace</span> <span class="ow">and</span> <span class="n">url</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">replace</span><span class="p">):</span>
                            <span class="n">nurl</span> <span class="o">=</span> <span class="n">url</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">replace</span><span class="p">):]</span>
                        <span class="k">elif</span> <span class="ow">not</span> <span class="p">(</span><span class="n">url</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">url</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)):</span>
                            <span class="n">nurl</span> <span class="o">=</span> <span class="n">url</span>
                        <span class="k">if</span> <span class="n">nurl</span><span class="p">:</span>
                            <span class="n">url</span> <span class="o">=</span> <span class="s">&#39;</span><span class="si">%s%s%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">media_url</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">location</span><span class="p">,</span> <span class="n">nurl</span><span class="p">)</span>
                        <span class="n">line</span> <span class="o">+=</span> <span class="n">url</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">rline</span><span class="p">,</span> <span class="n">line</span> <span class="o">=</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">old_line</span>
                        <span class="k">break</span>
                <span class="n">line</span> <span class="o">+=</span> <span class="n">rline</span>
            <span class="k">yield</span> <span class="n">line</span>

    <span class="k">def</span> <span class="nf">advance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rline</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="n">line</span> <span class="o">+=</span> <span class="n">rline</span><span class="p">[:</span><span class="n">p</span><span class="p">]</span>
        <span class="n">rline</span> <span class="o">=</span> <span class="n">rline</span><span class="p">[</span><span class="n">p</span><span class="p">:]</span>
        <span class="k">return</span> <span class="n">rline</span><span class="p">,</span> <span class="n">line</span>

</div>
<span class="k">class</span> <span class="nc">Image</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">repeat</span><span class="o">=</span><span class="s">&#39;no-repeat&#39;</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="s">&#39;center&#39;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="n">url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">repeat</span> <span class="o">=</span> <span class="n">repeat</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="n">position</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">url</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;http&#39;</span><span class="p">):</span>
            <span class="n">url</span> <span class="o">=</span> <span class="s">&#39;</span><span class="si">%s%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">cssv</span><span class="o">.</span><span class="n">MEDIAURL</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;background-image&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;url(</span><span class="si">%s</span><span class="s">)&#39;</span> <span class="o">%</span> <span class="n">url</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">repeat</span><span class="p">:</span>
            <span class="n">elem</span><span class="p">[</span><span class="s">&#39;background-repeat&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">repeat</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">position</span><span class="p">:</span>
            <span class="n">elem</span><span class="p">[</span><span class="s">&#39;background-position&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">position</span>


<span class="c">################################################# FONT-FACE</span>
<div class="viewcode-block" id="Fontface"><a class="viewcode-back" href="../../../../../extensions/ui.html#lux.extensions.ui.lib.mixins.Fontface">[docs]</a><span class="k">class</span> <span class="nc">Fontface</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">svg</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">base</span> <span class="o">=</span> <span class="n">base</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">svg</span> <span class="o">=</span> <span class="s">&#39;#&#39;</span><span class="o">+</span><span class="n">svg</span> <span class="k">if</span> <span class="n">svg</span> <span class="k">else</span> <span class="s">&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="n">base</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">base</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;http&#39;</span><span class="p">):</span>
            <span class="n">base</span> <span class="o">=</span> <span class="n">cssv</span><span class="o">.</span><span class="n">MEDIAURL</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">base</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;src&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;url(&#39;{0}.eot&#39;)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">base</span><span class="p">)</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">&#39;src&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s">&quot;url(&#39;{0}.eot?#iefix&#39;) format(&#39;embedded-opentype&#39;), &quot;</span>
                       <span class="s">&quot;url(&#39;{0}.woff&#39;) format(&#39;woff&#39;), &quot;</span>
                       <span class="s">&quot;url(&#39;{0}.ttf&#39;) format(&#39;truetype&#39;), &quot;</span>
                       <span class="s">&quot;url(&#39;{0}.svg{1}&#39;) format(&#39;svg&#39;)&quot;</span>
                       <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">svg</span><span class="p">))</span>


<span class="c">################################################# Stack</span></div>
<div class="viewcode-block" id="Stack"><a class="viewcode-back" href="../../../../../extensions/ui.html#lux.extensions.ui.lib.mixins.Stack">[docs]</a><span class="k">class</span> <span class="nc">Stack</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Stack :class:`Stackable` mixins.&#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">mixins</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mixins</span> <span class="o">=</span> <span class="n">mixins</span>
        <span class="n">classes</span> <span class="o">=</span> <span class="nb">set</span><span class="p">((</span><span class="n">m</span><span class="o">.</span><span class="n">__class__</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">mixins</span><span class="p">))</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">classes</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s">&#39;Stack works with mixins of the same class&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">value</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">values</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">mixin</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">mixins</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">mixin</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">values</span><span class="p">:</span>
            <span class="k">return</span> <span class="s">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">apply</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mixins</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mixins</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper"><p class="logo">
<a href="../../../../../index.html">
  <img class="logo" width="200" src="../../../../../static/lux.svg" alt="lux" title="lux"/>
</a>
</p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer">
        &copy; Copyright 2011-2013, Luca Sbardella.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>
<script type="text/javascript">

  var _gaq = _gaq || [];
  
  _gaq.push(['_setAccount', 'UA-3900561-8']);
  
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </body>
</html>