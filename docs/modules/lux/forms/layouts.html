<!DOCTYPE html>
<html data-debug='false' lang='en'>
<head>
<title>Lux - Crafting super web applications with Python and AngularJS</title>
<meta charset='utf-8'>
<meta content='IE=edge' http-equiv='X-UA-Compatible'>
<meta content='width=device-width, initial-scale=1' name='viewport'>
<meta content='2014-10-14T08:24:28' name='og:modified_time'>
<link href='http://quantmind.github.io/lux/media/luxsite/favicon.ico.min.css' rel='icon' type='image/x-icon'>
<link href='//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css' rel='stylesheet' type='text/css'>
<link href='//netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css' rel='stylesheet' type='text/css'>
<link href='http://quantmind.github.io/lux/media/luxsite/lux-114.png.min.css' rel='apple-touch-icon' sizes='57x57' type='text/css'>
<link href='http://quantmind.github.io/lux/media/luxsite/lux-114.png.min.css' rel='apple-touch-icon' sizes='114x114' type='text/css'>
<link href='http://quantmind.github.io/lux/media/luxsite/lux-144.png.min.css' rel='apple-touch-icon' sizes='72x72' type='text/css'>
<link href='http://quantmind.github.io/lux/media/luxsite/lux-144.png.min.css' rel='apple-touch-icon' sizes='144x144' type='text/css'>
<link href='http://quantmind.github.io/lux/media/luxsite/luxsite.css' rel='stylesheet' type='text/css'>
<script type='text/javascript'>
var luxContext = {"uiRouter": true, "dateFormat": "d MMM y", "html5mode": true, "year": 2014, "datetimeFormat": "d MMM y, h:mm:ss a", "python_version": "3.4.1", "page": "/lux/docs/*slug", "apiUrls": {}, "pages": {"/lux/docs/": {"controller": "Html5", "api": {"url": "http://quantmind.github.io/lux/jsonapi/docs", "type": "static", "name": "docs"}, "template": "<div class='angular-view' data-dynamic-page=''></div>", "url": "/lux/docs/", "target": null, "name": "docs", "parent": "/lux/"}, "/lux/*slug": {"controller": "Html5", "api": {"url": "http://quantmind.github.io/lux/jsonapi/site", "type": "static", "name": "site"}, "template": "<div class='angular-view' data-dynamic-page=''></div>", "url": "/lux/*slug", "target": null, "name": "view", "parent": "/lux/"}, "/lux/": {"controller": "Html5", "api": {"url": "http://quantmind.github.io/lux/jsonapi/site", "type": "static", "name": "site"}, "template": "<div class='angular-view' data-dynamic-page=''></div>", "url": "/lux/", "target": null, "name": "", "parent": null}, "/lux/docs/*slug": {"controller": "Html5", "api": {"url": "http://quantmind.github.io/lux/jsonapi/docs", "type": "static", "name": "docs"}, "template": "<div class='angular-view' data-dynamic-page=''></div>", "url": "/lux/docs/*slug", "target": null, "name": "docsview", "parent": "/lux/docs/"}}, "date": "2014-10-14T08-24-22", "ngModules": ["ui.router"], "lux_version": "0.1.0-alpha.1", "media": "/media", "url": "http://quantmind.github.io/lux", "hrefs": ["/lux/", "/lux/docs/", "/lux/docs/*slug", "/lux/*slug"], "name": "Lux"};</script>
<script type="text/javascript">
var require = {"minify": true, "deps": ["luxsite/luxsite"], "baseUrl": "http://quantmind.github.io/lux/media/", "waitSeconds": 200, "paths": {}};
</script>
<script src='http://quantmind.github.io/require-config-js/require.config.min.js' type='application/javascript'></script>
<script src='//cdnjs.cloudflare.com/ajax/libs/require.js/2.1.14/require.min.js' type='application/javascript'></script>
</head>
<body data-ng-controller='Page' data-ng-model='page' data-page=''>
<div id="page" class="fullpage" data-hash-scroll ng-cloak>
    <div class='angular-view' data-ui-view=''><section id="page-header" class="page-header-outer modules_lux_forms_layouts-header">
    <div class="layer">
        <div class="page-header">
            <div class="container fullpage">
                <div class="row fullpage">
                    <div class="col-sm-12 text-center">
                        <breadcrumbs></breadcrumbs>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<div id="page-main">
    <div class="container">
        <div class="row">
            <div class="modules_lux_forms_layouts-main col-md-12">
                <div class="center-block" style="max-width: 900px" data-highlight data-hash-scroll>
                    <h1>Source code for lux.forms.layouts</h1><div class="highlight"><pre>
<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Layout</span>
<span class="sd">~~~~~~~~~~~~~~~~~~~</span>

<span class="sd">.. autoclass:: Layout</span>
<span class="sd">   :members:</span>
<span class="sd">   :member-order: bysource</span>

<span class="sd">Layout style</span>
<span class="sd">~~~~~~~~~~~~~~~~~~~</span>

<span class="sd">.. autoclass:: LayoutStyle</span>
<span class="sd">   :members:</span>
<span class="sd">   :member-order: bysource</span>

<span class="sd">Registering layouts</span>
<span class="sd">~~~~~~~~~~~~~~~~~~~~~~~~</span>

<span class="sd">.. autofunction:: register_layout_style</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="kn">from</span> <span class="nn">inspect</span> <span class="kn">import</span> <span class="n">isclass</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span><span class="p">,</span> <span class="nb">reduce</span>

<span class="kn">import</span> <span class="nn">lux</span>
<span class="kn">from</span> <span class="nn">lux</span> <span class="kn">import</span> <span class="n">Html</span><span class="p">,</span> <span class="n">Template</span>


<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Layout&#39;</span><span class="p">,</span> <span class="s">&#39;Fieldset&#39;</span><span class="p">,</span> <span class="s">&#39;register_layout_style&#39;</span><span class="p">,</span> <span class="s">&#39;LayoutStyle&#39;</span><span class="p">,</span>
           <span class="s">&#39;Row&#39;</span><span class="p">,</span> <span class="s">&#39;Group&#39;</span><span class="p">,</span> <span class="s">&#39;Submit&#39;</span><span class="p">]</span>


<span class="n">special_types</span> <span class="o">=</span> <span class="nb">set</span><span class="p">((</span><span class="s">&#39;checkbox&#39;</span><span class="p">,</span> <span class="s">&#39;radio&#39;</span><span class="p">))</span>
<span class="n">control_group</span> <span class="o">=</span> <span class="s">&#39;form-group&#39;</span>
<span class="n">control_class</span> <span class="o">=</span> <span class="s">&#39;form-control&#39;</span>
<span class="n">LAYOUT_HANDLERS</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">FORMKEY</span> <span class="o">=</span> <span class="s">&#39;m__form&#39;</span>


<span class="k">def</span> <span class="nf">check_fields</span><span class="p">(</span><span class="n">fields</span><span class="p">,</span> <span class="n">missings</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">Default</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Utility function for checking fields in layouts&#39;&#39;&#39;</span>
    <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">fields</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">missings</span><span class="p">:</span>
            <span class="n">field</span> <span class="o">=</span> <span class="p">(</span><span class="n">Default</span> <span class="ow">or</span> <span class="n">Group</span><span class="p">)(</span><span class="n">field</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="n">FieldTemplate</span><span class="p">):</span>
            <span class="n">field</span><span class="o">.</span><span class="n">check_fields</span><span class="p">(</span><span class="n">missings</span><span class="p">,</span> <span class="n">parent</span><span class="p">)</span>
            <span class="k">yield</span> <span class="n">field</span>


<span class="k">class</span> <span class="nc">FieldTemplate</span><span class="p">(</span><span class="n">Template</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;A :class:`.Template` for fields or group of fields in</span>
<span class="sd">    a :class:`.Form`&#39;&#39;&#39;</span>
    <span class="n">parent</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">layout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">layout</span>

    <span class="k">def</span> <span class="nf">check_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">missings</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">missings</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">missings</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>


<span class="k">class</span> <span class="nc">Group</span><span class="p">(</span><span class="n">FieldTemplate</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;A group is a container of a field and its label&#39;&#39;&#39;</span>
    <span class="n">tag</span> <span class="o">=</span> <span class="s">&#39;div&#39;</span>

    <span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">missings</span><span class="p">):</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
        <span class="n">missings</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">key</span>
    <span class="n">__str__</span> <span class="o">=</span> <span class="n">__repr__</span>

    <span class="k">def</span> <span class="nf">required_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s"> is required&#39;</span> <span class="o">%</span> <span class="n">field</span><span class="o">.</span><span class="n">name</span>

    <span class="k">def</span> <span class="nf">error_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s"> is invalid&#39;</span> <span class="o">%</span> <span class="n">field</span><span class="o">.</span><span class="n">label</span>

    <span class="k">def</span> <span class="nf">post_process_child</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">html</span><span class="p">,</span> <span class="n">child</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Return an iterable over Html objects or strings.&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">context</span><span class="p">:</span>
            <span class="n">form</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;form&#39;</span><span class="p">)</span>
            <span class="n">layout</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">layout</span>
            <span class="k">if</span> <span class="n">form</span><span class="p">:</span>
                <span class="n">field</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">dfields</span><span class="p">[</span><span class="n">child</span><span class="p">]</span>
                <span class="n">w</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="n">widget</span><span class="p">()</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">w</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="s">&#39;type&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s">&#39;hidden&#39;</span> <span class="ow">or</span>
                    <span class="n">w</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="s">&#39;display&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s">&#39;none&#39;</span><span class="p">):</span>
                    <span class="n">html</span><span class="o">.</span><span class="n">addClass</span><span class="p">(</span><span class="s">&#39;hidden&#39;</span><span class="p">)</span>

                <span class="k">if</span> <span class="ow">not</span> <span class="n">layout</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">w</span>

                <span class="c"># ng-model</span>
                <span class="k">if</span> <span class="n">layout</span><span class="o">.</span><span class="n">ngmodel</span><span class="p">:</span>
                    <span class="n">w</span><span class="o">.</span><span class="n">data</span><span class="p">({</span><span class="s">&#39;ng-model&#39;</span><span class="p">:</span> <span class="s">&#39;formModel.</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                            <span class="s">&#39;watch-change&#39;</span><span class="p">:</span> <span class="s">&quot;checkField(&#39;</span><span class="si">%s</span><span class="s">&#39;)&quot;</span> <span class="o">%</span> <span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                            <span class="s">&#39;lux-input&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">})</span>
                    <span class="c">#if field.value:</span>
                    <span class="c">#    w.attr(&#39;ng-init&#39;, &quot;formModel.%s=&#39;%s&#39;&quot; %</span>
                    <span class="c">#           (field.name, field.value))</span>
                    <span class="n">html</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="s">&#39;ng-class&#39;</span><span class="p">,</span> <span class="s">&#39;formClasses.</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

                <span class="c"># styling</span>
                <span class="n">layout</span><span class="o">.</span><span class="n">style</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">field</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Submit</span><span class="p">(</span><span class="n">FieldTemplate</span><span class="p">):</span>
    <span class="n">tag</span> <span class="o">=</span> <span class="s">&#39;button&#39;</span>
    <span class="n">classes</span> <span class="o">=</span> <span class="s">&#39;btn btn-default&#39;</span>
    <span class="n">defaults</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;type&#39;</span><span class="p">:</span> <span class="s">&#39;submit&#39;</span><span class="p">}</span>

    <span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">missings</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;submit&#39;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Row</span><span class="p">(</span><span class="n">FieldTemplate</span><span class="p">):</span>
    <span class="n">tag</span> <span class="o">=</span> <span class="s">&#39;div&#39;</span>
    <span class="n">classes</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;form-group&#39;</span><span class="p">,</span> <span class="s">&#39;row&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">missings</span><span class="p">):</span>
        <span class="n">children</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">spans</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">num</span> <span class="o">=</span> <span class="mi">12</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
                <span class="n">field</span> <span class="o">=</span> <span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="s">&#39;sm-</span><span class="si">%d</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">num</span><span class="p">)</span>
            <span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">field</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">spans</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">field</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="c">#</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="n">check_fields</span><span class="p">(</span><span class="n">children</span><span class="p">,</span> <span class="n">missings</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">sp</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">fields</span><span class="p">,</span> <span class="n">spans</span><span class="p">):</span>
            <span class="n">div</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="s">&#39;div&#39;</span><span class="p">,</span> <span class="n">cn</span><span class="o">=</span><span class="s">&#39;col-</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">sp</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">div</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Fieldset</span><span class="p">(</span><span class="n">FieldTemplate</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;A :class:`BaseFormLayout` class for :class:`FormLayout`</span>
<span class="sd">    components. An instance of this class render one or several</span>
<span class="sd">    :class:`Field` of a form.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">tag</span> <span class="o">=</span> <span class="s">&#39;fieldset&#39;</span>

    <span class="k">def</span> <span class="nf">init_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">legend</span> <span class="o">=</span> <span class="n">legend</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Fieldset</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">init_parameters</span><span class="p">(</span><span class="o">**</span><span class="n">params</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">missings</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Check if the specified fields are available in the form and</span>
<span class="sd">        remove available fields from the *missings* set.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">children</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">legend</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Template</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">legend</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="s">&#39;legend&#39;</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">check_fields</span><span class="p">(</span><span class="n">children</span><span class="p">,</span> <span class="n">missings</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">Group</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">field</span><span class="p">)</span>


<div class="viewcode-block" id="Layout"><a class="viewcode-back" href="../../../api/forms#lux.forms.layouts.Layout">[docs]</a><span class="k">class</span> <span class="nc">Layout</span><span class="p">(</span><span class="n">Template</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;A :class:`Layout` renders the form into HTML.</span>

<span class="sd">    :param style: Optional style name.</span>
<span class="sd">        A style handler must be registered via the</span>
<span class="sd">        :func:`register_layout_style` function. It sets the :attr:style:</span>
<span class="sd">        attribute</span>

<span class="sd">    .. attribute:: style</span>

<span class="sd">        The name of the :class:`LayoutStyle` for this :class:`Layout`.</span>

<span class="sd">    .. attribute:: ngmodel</span>

<span class="sd">        If ``True``, render the form so that it can be managed by angular.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">tag</span> <span class="o">=</span> <span class="s">&#39;form&#39;</span>
    <span class="n">default_element</span> <span class="o">=</span> <span class="n">Fieldset</span>
    <span class="n">form_class</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">controller</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">defaults</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;role&#39;</span><span class="p">:</span> <span class="s">&#39;form&#39;</span><span class="p">}</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">layout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="nd">@property</span>
<div class="viewcode-block" id="Layout.style"><a class="viewcode-back" href="../../../api/forms#lux.forms.layouts.Layout.style">[docs]</a>    <span class="k">def</span> <span class="nf">style</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">LAYOUT_HANDLERS</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_style</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="Layout.init_parameters"><a class="viewcode-back" href="../../../api/forms#lux.forms.layouts.Layout.init_parameters">[docs]</a>    <span class="k">def</span> <span class="nf">init_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">submits</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                        <span class="n">ngmodel</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">enctype</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                        <span class="n">ngcontroller</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">**</span><span class="n">parameters</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Called at the and of initialisation.</span>

<span class="sd">        It fills the :attr:`parameters` attribute.</span>
<span class="sd">        It can be overwritten to customise behaviour.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">submits</span> <span class="o">=</span> <span class="n">submits</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_style</span> <span class="o">=</span> <span class="n">style</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ngmodel</span> <span class="o">=</span> <span class="n">ngmodel</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">labels</span> <span class="o">=</span> <span class="n">labels</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">controller</span> <span class="o">=</span> <span class="n">ngcontroller</span> <span class="ow">or</span> <span class="s">&#39;formController&#39;</span>
        <span class="c">#parameters[&#39;enctype&#39;] = enctype or &#39;multipart/form-data&#39;</span>
        <span class="c">#parameters[&#39;method&#39;] = method or &#39;post&#39;</span>
        <span class="k">if</span> <span class="n">ngmodel</span><span class="p">:</span>
            <span class="n">parameters</span><span class="p">[</span><span class="s">&#39;novalidate&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
            <span class="n">parameters</span><span class="p">[</span><span class="s">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">name</span> <span class="ow">or</span> <span class="s">&#39;form&#39;</span>
            <span class="n">parameters</span><span class="p">[</span><span class="s">&#39;ng-submit&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;processForm($event)&#39;</span>
            <span class="n">parameters</span><span class="p">[</span><span class="s">&#39;ng-cloak&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Layout</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">init_parameters</span><span class="p">(</span><span class="o">**</span><span class="n">parameters</span><span class="p">)</span>
</div>
    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">form_class</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="p">:</span>
                <span class="k">return</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s">.</span><span class="si">%s</span><span class="s"> </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">form_class</span><span class="o">.</span><span class="n">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="p">,</span>
                                     <span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="o">.</span><span class="n">__name__</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s"> </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">form_class</span><span class="o">.</span><span class="n">__name__</span><span class="p">,</span>
                                  <span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="o">.</span><span class="n">__name__</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="o">.</span><span class="n">__name__</span>
    <span class="n">__str__</span> <span class="o">=</span> <span class="n">__repr__</span>

    <span class="k">def</span> <span class="nf">__get__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">form</span><span class="p">,</span> <span class="n">instance_type</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">form</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">form_class</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">form_class</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">__class__</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">form_class</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">form</span><span class="o">.</span><span class="n">__class__</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s">&#39;Form layout element for multiple forms&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">partial</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">form</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">form</span><span class="p">,</span> <span class="n">request</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">controller</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                 <span class="o">**</span><span class="n">params</span><span class="p">):</span>
        <span class="n">context</span> <span class="o">=</span> <span class="n">context</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="n">context</span><span class="p">[</span><span class="s">&#39;form&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">form</span>
        <span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">()</span>
        <span class="n">html</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">Layout</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__call__</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">controller</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="p">:</span>
            <span class="n">html</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="s">&#39;ng-controller&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">html</span>

    <span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">missings</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">form_class</span><span class="o">.</span><span class="n">base_fields</span><span class="p">)</span>
        <span class="n">children</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ngmodel</span><span class="p">:</span>
            <span class="n">model</span> <span class="o">=</span> <span class="s">&#39;formMessages.</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">FORMKEY</span>
            <span class="n">ngc</span> <span class="o">=</span> <span class="s">&quot;{&#39;alert-danger&#39;: o.error, &#39;alert-info&#39;: !o.error}&quot;</span>
            <span class="n">messages</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="s">&#39;{{o.message}}&#39;</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="s">&#39;div&#39;</span><span class="p">,</span> <span class="n">classes</span><span class="o">=</span><span class="s">&#39;alert&#39;</span><span class="p">)</span>
            <span class="n">messages</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s">&#39;ng-repeat&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;o in </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">model</span>
            <span class="n">messages</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s">&#39;ng-model&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">model</span>
            <span class="n">messages</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s">&#39;ng-class&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ngc</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">messages</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">check_fields</span><span class="p">(</span><span class="n">children</span><span class="p">,</span> <span class="n">missings</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">Group</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">field</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">missings</span><span class="p">:</span>
            <span class="n">field</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_element</span><span class="p">(</span><span class="o">*</span><span class="n">missings</span><span class="p">)</span>
            <span class="n">field</span><span class="o">.</span><span class="n">check_fields</span><span class="p">(</span><span class="n">missings</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">field</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">submits</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">submits</span> <span class="ow">is</span> <span class="bp">True</span><span class="p">:</span>
                <span class="n">field</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_element</span><span class="p">(</span><span class="n">Submit</span><span class="p">())</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">submits</span><span class="p">:</span>
                <span class="n">submits</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">submits</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">submits</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
                    <span class="n">submits</span> <span class="o">=</span> <span class="p">[</span><span class="n">submits</span><span class="p">]</span>
                <span class="n">field</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_element</span><span class="p">(</span><span class="o">*</span><span class="n">submits</span><span class="p">)</span>
            <span class="n">field</span><span class="o">.</span><span class="n">check_fields</span><span class="p">((),</span> <span class="bp">self</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">field</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">wrap_field</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">html</span><span class="p">,</span> <span class="n">bfield</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">html</span><span class="p">,</span> <span class="n">bfield</span><span class="p">,</span> <span class="n">label</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="register_layout_style"><a class="viewcode-back" href="../../../api/forms#lux.forms.layouts.register_layout_style">[docs]</a><span class="k">def</span> <span class="nf">register_layout_style</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">handler</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Register a new :class:`LayoutStyle` for rendring forms.&#39;&#39;&#39;</span>
    <span class="k">global</span> <span class="n">LAYOUT_HANDLERS</span>
    <span class="n">LAYOUT_HANDLERS</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">handler</span>

</div>
<div class="viewcode-block" id="LayoutStyle"><a class="viewcode-back" href="../../../api/forms#lux.forms.layouts.LayoutStyle">[docs]</a><span class="k">class</span> <span class="nc">LayoutStyle</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Layout style handler.</span>

<span class="sd">    .. attribute:: name</span>

<span class="sd">        The name for this :class:`LayoutStyle. The name is used by the</span>
<span class="sd">        :class:`Layout` to create the form class.</span>
<span class="sd">        For example the ``horizontal``</span>
<span class="sd">        layout has a form class ``form-horizontal``.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">label_class</span> <span class="o">=</span> <span class="s">&#39;control-label&#39;</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">html</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">field</span><span class="p">):</span>
        <span class="nb">type</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="s">&#39;type&#39;</span><span class="p">)</span>
        <span class="n">maker</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">maker</span>
        <span class="n">params</span> <span class="o">=</span> <span class="n">maker</span><span class="o">.</span><span class="n">parameters</span>
        <span class="c">#</span>
        <span class="k">if</span> <span class="nb">type</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;radio&#39;</span><span class="p">,</span> <span class="s">&#39;checkbox&#39;</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">maker</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">inline</span><span class="p">:</span>
                <span class="n">html</span><span class="o">.</span><span class="n">addClass</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%s</span><span class="s">-inline&#39;</span> <span class="o">%</span> <span class="nb">type</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">html</span><span class="o">.</span><span class="n">addClass</span><span class="p">(</span><span class="nb">type</span><span class="p">)</span>
            <span class="n">html</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Html</span><span class="p">(</span><span class="s">&#39;label&#39;</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">field</span><span class="o">.</span><span class="n">label</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">layout</span> <span class="o">=</span> <span class="n">maker</span><span class="o">.</span><span class="n">layout</span>
            <span class="n">html</span><span class="o">.</span><span class="n">addClass</span><span class="p">(</span><span class="s">&#39;form-group&#39;</span><span class="p">)</span>
            <span class="n">widget</span><span class="o">.</span><span class="n">addClass</span><span class="p">(</span><span class="s">&#39;form-control&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">layout</span><span class="o">.</span><span class="n">labels</span> <span class="ow">and</span> <span class="n">params</span><span class="o">.</span><span class="n">label</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">False</span><span class="p">:</span>
                <span class="n">label</span> <span class="o">=</span> <span class="n">Html</span><span class="p">(</span><span class="s">&#39;label&#39;</span><span class="p">,</span> <span class="n">field</span><span class="o">.</span><span class="n">label</span><span class="p">,</span> <span class="n">cn</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">label_class</span><span class="p">)</span>
                <span class="n">label</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="s">&#39;for&#39;</span><span class="p">,</span> <span class="n">html</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="s">&#39;id&#39;</span><span class="p">))</span>
                <span class="n">html</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
            <span class="k">elif</span> <span class="ow">not</span> <span class="n">widget</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="s">&#39;placeholder&#39;</span><span class="p">):</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="s">&#39;placeholder&#39;</span><span class="p">,</span> <span class="n">field</span><span class="o">.</span><span class="n">label</span><span class="p">)</span>
            <span class="n">html</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span>
            <span class="c">#</span>
            <span class="c"># Add error tags</span>
            <span class="k">if</span> <span class="n">layout</span><span class="o">.</span><span class="n">ngmodel</span><span class="p">:</span>
                <span class="n">cn</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">label_class</span> <span class="o">+</span> <span class="s">&#39; help-block&#39;</span>
                <span class="n">name</span> <span class="o">=</span> <span class="n">layout</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">name</span>
                <span class="k">if</span> <span class="n">field</span><span class="o">.</span><span class="n">required</span><span class="p">:</span>
                    <span class="n">error</span> <span class="o">=</span> <span class="n">Html</span><span class="p">(</span><span class="s">&#39;p&#39;</span><span class="p">,</span> <span class="n">maker</span><span class="o">.</span><span class="n">required_message</span><span class="p">(</span><span class="n">field</span><span class="p">),</span> <span class="n">cn</span><span class="o">=</span><span class="n">cn</span><span class="p">)</span>
                    <span class="n">error</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="s">&#39;ng-class&#39;</span><span class="p">,</span> <span class="s">&#39;{active: </span><span class="si">%s</span><span class="s">.</span><span class="si">%s</span><span class="s">.$error.required}&#39;</span> <span class="o">%</span>
                               <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
                    <span class="n">html</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
                <span class="n">error</span> <span class="o">=</span> <span class="n">Html</span><span class="p">(</span><span class="s">&#39;p&#39;</span><span class="p">,</span> <span class="s">&#39;{{formErrors.</span><span class="si">%s</span><span class="s">}}&#39;</span> <span class="o">%</span> <span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">cn</span><span class="o">=</span><span class="n">cn</span><span class="p">)</span>
                <span class="n">error</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="s">&#39;ng-class&#39;</span><span class="p">,</span> <span class="s">&#39;{active: </span><span class="si">%s</span><span class="s">.</span><span class="si">%s</span><span class="s">.$error.</span><span class="si">%s</span><span class="s">}&#39;</span> <span class="o">%</span>
                           <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
                <span class="n">html</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
                <span class="n">error</span> <span class="o">=</span> <span class="n">Html</span><span class="p">(</span><span class="s">&#39;p&#39;</span><span class="p">,</span> <span class="s">&#39;{{o.message}}&#39;</span><span class="p">,</span> <span class="n">cn</span><span class="o">=</span><span class="n">cn</span><span class="p">)</span><span class="o">.</span><span class="n">addClass</span><span class="p">(</span><span class="s">&#39;active&#39;</span><span class="p">)</span>
                <span class="n">error</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="s">&#39;ng-repeat-start&#39;</span><span class="p">,</span>
                           <span class="s">&quot;o in formMessages.</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
                <span class="n">html</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Html</span><span class="p">(</span><span class="s">&#39;p&#39;</span><span class="p">,</span> <span class="s">&#39;{{formErrors.</span><span class="si">%s</span><span class="s">}}&#39;</span> <span class="o">%</span> <span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">cn</span><span class="o">=</span><span class="n">cn</span><span class="p">))</span>

</div>
<span class="k">class</span> <span class="nc">HorizontalLayout</span><span class="p">(</span><span class="n">LayoutStyle</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">html</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">field</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">html</span>


<span class="n">register_layout_style</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">LayoutStyle</span><span class="p">())</span>
<span class="n">register_layout_style</span><span class="p">(</span><span class="s">&#39;horizontal&#39;</span><span class="p">,</span> <span class="n">HorizontalLayout</span><span class="p">())</span>
</pre></div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class='small hidden-print text-muted' id='page-footer'>
    <div class='container'>
        <div class='row'>
            <div class='block col-sm-5'>
                <div class='hidden-xs'>
                    <ul class="fa-ul text-left">
    <li><i class="fa-li fa fa-copyright"></i>2014 <a href="http://quantmind.com">Quantmind</a></li>
    <li>Site build with Lux on python 3.4.1</li>
    <li>Docs build with <a href="http://sphinx-doc.org/" target="_blank">Sphinx</a></li>
    <li><a href="http://quantmind.github.io/lux/docs/changelog">Changelog</a></li>
    <li><a href="http://quantmind.github.io/lux/docs/api/">API</a></li>
    <li><a href="http://quantmind.github.io/lux/docs/EXTENSIONS/">Extensions</a></li>
    <li><a href="http://quantmind.github.io/lux/images">Images</a></li>
</ul>
                </div>
                <div class='text-center visible-xs'>
                    <ul class="fa-ul text-left">
    <li><i class="fa-li fa fa-copyright"></i>2014 <a href="http://quantmind.com">Quantmind</a></li>
    <li>Site build with Lux on python 3.4.1</li>
    <li>Docs build with <a href="http://sphinx-doc.org/" target="_blank">Sphinx</a></li>
    <li><a href="http://quantmind.github.io/lux/docs/changelog">Changelog</a></li>
    <li><a href="http://quantmind.github.io/lux/docs/api/">API</a></li>
    <li><a href="http://quantmind.github.io/lux/docs/EXTENSIONS/">Extensions</a></li>
    <li><a href="http://quantmind.github.io/lux/images">Images</a></li>
</ul>
                </div>
            </div>
            <div class='block col-sm-2 text-center'>
                <div class='hidden-xs'>
                    <p><a href='#top' title="Lux" class="hover-opacity">
    <img height=50 title='Lux' src='http://quantmind.github.io/lux/media/luxsite/lux.png' alt='Lux'>
</a></p>
                </div>
                <div class='visible-xs'>
                    <p><a href='https://twitter.com/quantmind' title='Follow quantmind on twitter'>
<i class='fa fa-twitter fa-2x'></i></a>
<a href='https://plus.google.com/+QuantmindPlus' title='Follow quantmind on google+'>
<i class='fa fa-google-plus-square fa-2x'></i></a>
<a href='https://www.facebook.com/quantmind' title='Follow quantmind on facebook'>
<i class='fa fa-facebook-square fa-2x'></i></a>
<a href='https://github.com/quantmind/lux' title='Lux on github'>
<i class='fa fa-github fa-2x'></i></a></p>
                </div>
            </div>
            <div class='block col-sm-5'>
                <div class='text-right hidden-xs'>
                    <p><a href='https://twitter.com/quantmind' title='Follow quantmind on twitter'>
<i class='fa fa-twitter fa-2x'></i></a>
<a href='https://plus.google.com/+QuantmindPlus' title='Follow quantmind on google+'>
<i class='fa fa-google-plus-square fa-2x'></i></a>
<a href='https://www.facebook.com/quantmind' title='Follow quantmind on facebook'>
<i class='fa fa-facebook-square fa-2x'></i></a>
<a href='https://github.com/quantmind/lux' title='Lux on github'>
<i class='fa fa-github fa-2x'></i></a></p>
                </div>
                <div class='text-center visible-xs'>
                    <p><a href='#top' title="Lux" class="hover-opacity">
    <img height=50 title='Lux' src='http://quantmind.github.io/lux/media/luxsite/lux.png' alt='Lux'>
</a></p>
                </div>
            </div>
        </div>
    </div>
</div></div>
    <navbar data-options='lux.context.navbar'></navbar>
</div></body>
</html>